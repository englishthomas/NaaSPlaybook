<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>RunBook</title>

         <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <!-- Our Custom CSS -->
        <link rel="stylesheet" href="style2.css">
  
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
	</head>
		
    <body onscroll="updateSection()">

    <div class >
        <ul class="barra_superior">
            <li class="li_superior"><a class="active" href="Home.html">Home</a></li>
            <li class="li_superior"><a href="comming_soon/comming-soon.html">About</a></li>
            
            <li class="topnav-right"><a href="#" onclick="switchContent('#e2e')">E2E Process Flow</a></li>
            <li class="topnav-right"><a href="#" onclick="switchContent('#fm')">Function & Methodologies</a></li>
            <li class="topnav-right"><a href="#" onclick="switchContent('#hld')" >HLD Fundamentals</a></li>
        </ul>
    </div>

    <div class="wrapper">
        <!-- Sidebar Holder -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>NaaS RunBook</h3>
                <!--strong>NaaS</strong-->
                <img src="smiley.png" alt="Go to W3Schools!" width="42" height="42" border="0">
            </div>

            <ul class="list-unstyled components">
                <li>
                    <a href="#runbookSubmenu" data-toggle="collapse" aria-expanded="false">
                        <i class="glyphicon glyphicon-option-horizontal"></i>
                        RunBook Modules
                    </a>
                    <ul class="list-unstyled" id="runbookSubmenu">
                            <li>
                                <a href="#">
                                    &#187 Strategic Plan & Scope
                                </a>
                            </li>
                            <li  class="active">
                                <a href="#HLNA" data-toggle="collapse" aria-expanded="false">
                                    &#187 High Level Network Architecture
                                </a>
                                <ul class="list-unstyled collapse" id="HLNA">
                                    <li><a href="ran_hld_architecture.html"style="margin-left:2em">&bull; RAN Architecture</a></li>
                                    <li><a href="tx_ip_architecture.html" style="margin-left:2em">&bull; TX & IP Architecture</a></li>
                                    <li><a href="mobile_core_archi.html" style="margin-left:2em"> &bull; Core Architecture</a></li>
                                    <li><a href="network_monitoring_architecture.html" style="margin-left:2em"> &bull; Network Monitoring</a></li>
                                    <li><a href="comming_soon/comming-soon.html" style="margin-left:2em"> &bull; Engineering Specifications</a></li>
                                </ul>
                            </li>
                            <li class="active">
                                <a href="#homeSubmenu"  class="panel-collapse" data-toggle="collapse">
                                    &#187 Network Design
                                </a>
                                <ul class="list-unstyled" id="homeSubmenu">
                                    <li><a href="#transportMenu" data-toggle="collapse" style="margin-left:2em">&bull; Transport</a></li>
                                        <ul class="list-unstyled collapse" id="transportMenu">
                                            <li><a href="tx_hld_module.html" style="margin-left:4em;">&#9657; Tx Network HLD</a></li>
<li><a href="tx_lld_module.html" style="margin-left:4em;">&#9657; Tx Network LLD</a></li>
                                        </ul>
            
                                    <li><a href="#transportMenu2" data-toggle="collapse" style="margin-left:2em">&bull; RAN</a></li>
                                        <ul class="list-unstyled collapse" id="transportMenu2">
                                            <li><a href="ran_hld_module.html" style="margin-left:4em">&#9657; RAN Network HLD</a></li>
                                        </ul>
                                    <li><a href="#transportMenu3" data-toggle="collapse" style="margin-left:2em">&bull; Core</a></li>
                                        <ul class="list-unstyled" id="transportMenu3">
                                            <li><a href="mobile_core_hld.html" style="margin-left:4em;color: black;"><strong>&#9657; Mobile Core HLD</strong></a></li>
											<li><a href="mobile_core_lld.html" style="margin-left:4em;">&#9657; Mobile Core LLD</a></li>
                                        </ul>
                                </ul>
                            </li>
                            <li>
                                <a href="#deployment_m" data-toggle="collapse" aria-expanded="false">
                                    &#187 Deployment
                                </a>
                                <ul class="list-unstyled collapse" id="deployment_m">
                                    <li><a href="deployment_mgmt.html"style="margin-left:2em">&bull; Deployment Mgmt</a></li>
                                    <li><a href="site_survey.html"style="margin-left:2em">&bull; Site Survey</a></li>
                                    <li><a href="#"style="margin-left:2em">&bull; Construction</a></li>
                                    <li><a href="#"style="margin-left:2em">&bull; I & C</a></li>
                                        <li><a href="fiber_const_mgmt.html"style="margin-left:2em">&bull; Fiber Construction</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">
                                    &#187 O & M
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    &#187 Field Maintenance
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    &#187 Post-Launch Engineering
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    &#187 Supply Chain Management
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#engagementSubmenu" data-toggle="collapse" aria-expanded="false">
                            <i class="glyphicon glyphicon-option-horizontal"></i>
                            Methods of Engagement
                        </a>
                        <ul class="collapse list-unstyled" id="engagementSubmenu">
                            <li><a href="#">&#187 Primer</a></li>
                            <li class="active">
                                <a href="#widgets" data-toggle="collapse" aria-expanded="false">
                                    &#187 Wizards
                                </a>
                                <ul class="collapse list-unstyled" id="widgets">
                                    <li><a href="core_hld_wizard.html" style="margin-left:2em">&bull; Core HLD - Wizard</a></li>
                                    <li><a href="net_mon_arch_wizard_1.html" style="margin-left:2em">&bull; Net Mon Arch - Wizard 1</a></li>
                                    <li><a href="net_mon_arch_wizard_2.html" style="margin-left:2em">&bull; Net Mon Arch - Wizard 2</a></li>
                                    <li><a href="tx_ip_arch_wizard_1.html" style="margin-left:2em">&bull; Tx & IP Archi Wizard</a></li>
                                </ul>
                            </li>
                            <li><a href="#">&#187 Templates</a></li>
                            <!--li><a href="friss.html">Widgets</a></li-->
                                            
                            <li class="active">
                                <a href="#homeSubmenu22" data-toggle="collapse" aria-expanded="false">
                                    &#187 Widgets
                                </a>
                                <ul class="collapse list-unstyled" id="homeSubmenu22">
                                    <li><a href="ran_hld_widget_1.html" style="margin-left:2em">&bull; RAN - Capacity-Based</a></li>
                                    <li><a href="ran_hld_widget_2.html" style="margin-left:2em">&bull; RAN - Coverage-Based</a></li>
                                    <li><a href="tx_hld_widget_1.html" style="margin-left:2em">&bull; Tx - Capacity Forecast</a></li>
                                    <li><a href="tx_hld_widget_2.html" style="margin-left:2em">&bull; Tx - Availability FO</a></li>
                                    <li><a href="tx_hld_widget_3.html" style="margin-left:2em">&bull; Tx - Availability MW</a></li>
                                    <li><a href="tx_hld_widget_4.html" style="margin-left:2em">&bull; Tx â€“ MW Analysis</a></li>
                                    <li><a href="core_hld_widget_1.html" style="margin-left:2em">&bull; Core - Capacity Planning</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="comming_soon/comming-soon.html">
                            <i class="glyphicon glyphicon-paperclip"></i>
                            FAQ 
                        </a>
                    </li>
                    <li>
                        <a href="comming_soon/comming-soon.html">
                            <i class="glyphicon glyphicon-send"></i>
                            Contact
                        </a>
                    </li>
            </ul>
        </nav>
        <!-- Page Content Holder -->
       <section id="hld" hidden>
            <div id="content"> 

                <div div data-spy="scroll" data-target="#navbar-example3" data-offset="0">
                    <h1><a class="titulo-h1 anchor-bum" name="item1">1
                        Introduction</a></h1>
                        
                        <p class="normal-text">The Mobile Core
                        High-Level Design (HLD) defines the Evolved Packet Core (EPC) deployment model,
                        features and functionalities which the entire network has to meet. Since the
                        EPC is a centralized element it has a major impact on the entire network
                        performance. Therefore, a precise HLD will provide economic insights on the
                        most suitable deployment approach and plan.</p>
                        
                        <p class="normal-text">Its important
                        to mention that based on the overall strategy, business case and agreements
                        with Multiple Network Operators (MNOs), not all NaaS Operators will deploy a
                        Mobile Core. Thus, this module applies only to initiatives that require a
                        Mobile Core. More details can be found on the <a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a>.</p>
                        
                        <p class="normal-text">The Mobile Core
                        HLD module provides the NaaS Operator background information and methodologies
                        to elaborate a High-Level Design for the Mobile Core Network. It provides
                        guidelines on how to design the mobile core network that interconnects with the
                        Radio Access Network (RAN) to offer security, signaling, authentication and
                        access to end user services. </p>
                        
                        <p class="normal-text">NaaS Operators
                        span a range of sizes, geographies, and network architectures. That is, there
                        is no <i>one size fits all</i> methodology. For this reason, a generic
                        end-to-end process flow to perform the Mobile Core HLD is presented along with
                        proper guidelines to be tailored to match NaaS Operators requirements and
                        constraints.</p>
                        
                        <p class="normal-text">The main output
                        of the module is the Mobile Core HLD Design, which includes the Interconnection
                        Assessment, Capacity Planning, and Requirements for Virtual Network Function
                        (VNF) entities, Redundancy Assessment and Bill of Quantities Generation.</p>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item1-1">1.1
                        Module Objectives</a></h2>
                        
                        <p class="normal-text">This module will
                        enable a NaaS Operator to stand-up, run and manage a Mobile Core HLD
                        initiative. The specific objectives of this module are to:</p>
                        
                        <ol style='margin-top:0in' start=1 type=1>
                            <li class="normal-text">Provide an information
                             base and fundamentals to perform the tasks associated with Mobile Core HLD.</li>
                             <li class="normal-text">Provide detailed how-to
                             instruction on the key HLD engineering tasks.</li>
                             <li class="normal-text">Provide an overview of
                             the end-to-end Mobile Core HLD process with instructions for tailoring to
                             specific NaaS environments. </li>
                             <li class="normal-text">Provide guidelines to develop a formal Mobile Core HLD
                             recommendation.</li>
                        </ol>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item1-2">1.2
                        Module Framework</a></h2>
                        
                        <p class="normal-text">The Module
                        Framework in Figure 1 describes the structure, interactions, and dependencies
                        among different NaaS operator areas.</p>
                        
                        <p class="normal-text">Strategic Plan
                        &amp; Scope and High-Level Network Architecture drive the strategic decisions
                        to forthcoming phases. Network Design is the first step into implementation
                        strategy which is supported by Supply Chain Management.</p>
                        
                        <p class="normal-text">The Mobile Core
                        HLD module is included within the Network Design Area and has a direct relation
                        with Transport and RAN HLDs. The generated output of this module will serve as
                        a required input for the Mobile Core LLD module.</p>
                        
                        <p class="normal-text"><img width=671 height=302 id=image16.png
                        src="images/mobile_core_hld/image001.png"></p>
                        
                        <p align=center><i>Figure 1 Module Framework.</i></p><br>
                        
                        <p class="normal-text"><a></a>Figure 2 presents the Mobile Core HLD functional view, where the
                        main functional components are exhibited. Critical module inputs are further
                        described and examined in Section 2.3. In addition, guidance and methodologies
                        to execute the tasks included within each function are described in Section 3.</p>
                        
                        <p class="normal-text"><i><img width=686 height=268 id=image5.png
                        src="images/mobile_core_hld/image002.png"></i></p>
                        
                        <p align=center><i>Figure 2 Module Functional View.</i></p><br>
                        
                        <p class="normal-text"><a></a>The remainder of the module is divided into four sections. Section 2
                        is a birds-eye view of the Mobile Core fundamentals involved in its
                        design. Once fundamental knowledge is acquired, Section 3 focuses on showing a
                        hands-on view of the tasks involved in the design. Section 4 organizes
                        functional tasks on an end-to-end process flow that can be used <i>as-is</i> or
                        be adapted by NaaS operators to match with their particular conditions.
                        Finally, Section 5 illustrates how to integrate previous elements into a comprehensive
                        High-level Design (HLD) recommendation.</p>
                        
                        <h1><a class="titulo-h1 anchor-bum" name="item2">2
                        HLD Fundamentals</a></h1>
                        
                        <p class="normal-text">This section
                        presents a general overview of the baseline concepts to develop a Mobile Core
                        Network Design.</p>
                        
                        <h2><a class="titulo-h2 anchor-bum" name="item2-1">2.1
                        EPC Overview</a></h2>
                        
                        <p class="normal-text">There are a
                        variety of scenarios when designing a Mobile Core Network depending on the
                        preexisting conditions and the target of the NaaS Operator. The most
                        predominant decision is whether to deploy Mobile Core Infrastructure which is
                        addressed by the <a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module.</a>
                        For NaaS Operators deploying an Evolved Packet Core (EPC), the Mobile Core
                        Architecture Module provides a guide to define the logical topology, necessary
                        network elements, interconnection requirements, and virtualized architecture
                        requirements.</p>
                        
                        <p class="normal-text">Figure 3 depicts
                        the typical EPC Architecture showing the Mobility Management Entity (MME),
                        Serving and Packet Data Network (PDN) Gateways (SGW &amp; PGW), the Home
                        Subscriber Server (HSS) and the Policy and Charging Rules Function (PCRF).
                        Furthermore, it also depicts the interconnection to the RAN network and IP
                        Networks (e.g. Internet)</p>
                        
                        <p class="normal-text">Connections to external networks are required to
                        offer services to other MNOs that share the RAN network. The number of these
                        connections will depend on the roaming agreements &amp; defined interconnection
                        approach, voice solution requirements, existing Packet Switched (PS)
                        infrastructure and Multiple Network Operator (MNO) strategy.</p>
                        
                        <p class="normal-text"><img width=643 height=312 id=image11.png
                        src="images/mobile_core_hld/image003.png"></p>
                        
                        <p align=center><i>Figure 3 Evolved Packet Core Basic
                        Architecture.</i></p>
                        
                        <p class="normal-text">The <a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module.</a> provides the overall
                        EPC logical topology and the strategy and requirements for interconnection with
                        other networks (existing 2G/3G infrastructure, customer MNOs, Internet). From
                        these inputs, the Mobile Core HLD Module defines the minimum requirements for
                        the EPC related to Capacity Planning, VNF specifications, the networking
                        protocols architecture and the redundancy mechanisms to appropriately assess
                        available solutions in the market.</p>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item2-2">2.2
                        Mobile Core Environment</a></h2>
                        
                        <p class="normal-text">This section
                        addresses the topics that require attention when developing a Mobile Core High-Level
                        Design.</p>
                        
                        <h3><a></a>2.2.1
                        Multiple Mobile Network Operator (MNO) Design</h3>
                        
                        <p class="normal-text">The NaaS Operator business model requires that multiple
                        Mobile Network Operator (MNO) share the same RAN equipment as seen in Figure 4. Different approaches and
                        solutions to address this issue are available and the choice will depend on the
                        agreement with the customer/partner MNOs.</p>
                        
                        <p class="normal-text"><img width=566 height=316 id=image13.png
                        src="images/mobile_core_hld/image004.png"></p>
                        
                        <p align=center><i>Figure 4 Multiple MNOs sharing the same
                        NaaS Operator RAN.</i></p>
                        
                        <p class="normal-text">As discussed in the <a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a>, the
                        first approach is when the NaaS Operator only implements an MME and SGW entities
                        to minimize the investment, but still getting the control of the RAN. The MME
                        and SGW are shared between operators while user databases (HSS), policy and
                        authentication entities (e.g. PCRF, OCS, OFCS) will remain independent across
                        operators, as seen in Figure 5.</p>
                        
                        <p class="normal-text"><img
                        width=438 height=340 id=image9.png
                        src="images/mobile_core_hld/image005.png"></p>
                        
                        <p align=center><i>Figure 5 MME-SGW Deployment.</i></p><br>
                        
                        <p class="normal-text">The second strategy consists in deploying all the EPC and
                        PCC elements in a centralized manner as seen in Figure
                        6. This will allow the NaaS Operator to
                        broaden its market by providing services to MNOs and all types of MVNOs.</p>
                        
                        <p class="normal-text"></p>
                        
                        <p class="normal-text"><img
                        width=558 height=314 id=image20.png
                        src="images/mobile_core_hld/image006.png"></p>
                        
                        <p align=center><i>Figure 6 Full deployment of centralized
                        EPC</i></p><br>
                        
                        <p class="normal-text">Finally, in addition to the full EPC deployment, a roaming
                        strategy for interconnection with multiple operators needs to be defined.
                        Guidelines and necessary details to define this strategy are provided in the <a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a>.</p>
                        
                        <p class="normal-text">From the HLD point of view, these architectural options
                        impact the Interconnection Assessment and Capacity Planning. For
                        Interconnection, the choice of architecture impacts the number of external
                        connections and protocols to be used on roaming interfaces), while for Capacity
                        Planning it drives the traffic and users dimensioning based on the roaming
                        agreements</p>
                        
                        <h3><a></a>2.2.2
                        Interconnection and Networking Considerations</h3>
                        
                        <p class="normal-text"><a></a>The Architecture module defines the approach to
                        interconnect to other networks, however, the Interconnection and Networking
                        mechanisms must be defined as part of the HLD. These mechanisms are directly
                        impacted by the number of customer MNOs using the NaaS Operator network to
                        provide service.</p>
                        
                        <p class="normal-text">Based on roaming agreements and strategy contained in the
                        Architecture module, the number of connections to external MNOs (partners and
                        customers) can be determined, as well as the expected number of roaming users
                        and the number of logical interfaces to match the required strategy.</p>
                        
                        <p class="normal-text">The number of MNO partners will drive the number of Mobile
                        Core interconnections required, consequently impacting the HLD design.
                        Furthermore, for the virtualized scenario, the networking solution must take
                        into account capacity requirements and the number of logical interfaces to/from
                        all the MNOs using the shared RAN. Even the choice of networking protocols will
                        be influenced by the number of interconnections to external networks as
                        described in section 3.1.</p>
                        
                        <h3><a></a>2.2.3
                        Capacity Planning and Forecasting Estimation
                        Challenges</h3>
                        
                        <p class="normal-text">RAN and Tx HLDs provide the subscriber and throughput
                        forecast for Capacity Planning. In the Mobile Core HLD, the challenges consist of estimating capacity requirements for
                        core elements and interface dimensioning based
                        on the inputs from RAN and TX HLD.</p>
                        
                        <p class="normal-text">The metrics to be taken into account are:</p>
                        
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li>Throughput for each external interface</li>
                            <li>Number of subscriber connections</li>
                            <li>Signaling load (transactions per second)</li>
                        </ul>
                        
                        <p class="normal-text">Additionally, each external interface will have an expected
                        number of subscribers corresponding to all the MNOs sharing the RAN network.
                        The throughput of each external interface is calculated considering its number
                        of roaming subscribers, the type of signaling and the traffic model of those
                        subscribers. The total number of roaming subscribers will also affect the
                        subscriber connection quantity and the signaling load within the NaaS Operator
                        EPC.</p>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item2-3">2.3
                        Mobile Core HLD Inputs Description</a></h2>
                        
                        <p class="normal-text">There is a wide
                        variety of options involved in the mobile core design, so to narrow them, some
                        inputs have to be defined at the beginning of the design process. Identifying
                        the most important inputs and how these inputs impact the overall process is a
                        key step towards an optimized Mobile Core HLD.</p>
                        
                        <p class="normal-text">The following
                        table contains the most important inputs to develop the Mobile Core High Level
                        Design:</p>
                        
                        <div align=center>
                        <table class=a border=1 cellspacing=0 cellpadding=0 width=586 style='margin-left:
                         -.25pt;border-collapse:collapse;border:none'>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Input
                          Required<a></a></p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border:solid black 1.0pt;
                          border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Description</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border:solid black 1.0pt;
                          border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Impact</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border:solid black 1.0pt;
                          border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Source</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Mobile Core Architecture</p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Architecture of the overall Mobile Core Solution,
                          Service Definition and its required Network Elements.</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Architecture will drive the overall HLD.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a></p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Roaming Strategy</p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Roaming agreements with other MNOs and its approach
                          to interconnection (Local breakout or Home routed).</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">It will impact on the Equipment and Interface
                          Capacity.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a></p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Interconnection Requirements</p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Requirements and approach for interconnection to
                          other MNOs and to existing 2G/3G core infrastructure.</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Interconnection Assessment and Capacity Planning are
                          tightly related to the existing infrastructure.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a>, Existing Operator
                          Data</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">High Availability Mechanisms</p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Mechanisms to assure the Service Level Agreement,
                          defined as part of the architecture.</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Redundancy techniques are based on this premise.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="mobile_core_archi.html">Mobile Core Architecture Module</a></p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Operator Network Data</p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Information related to existing infrastructure
                          (Transport, RAN, Mobile Core).</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Accurate information of existing networks will help
                          Interconnection and Networking Considerations as well as Capacity Planning.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Operator Network Data, Existing Operator Network</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Transmission HLD </p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Document containing a high-level view of the
                          transport solution.</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Interconnection and Networking Considerations are
                          based on transport information.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="tx_hld_module.html">Transmission HLD Module</a></p>
                          </td>
                         </tr>
                         <tr>
                          <td width=113 valign=top style='width:3.0cm;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">RAN HLD </p>
                          </td>
                          <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Document containing a high-level view of the RAN
                          solution, including the expected and forecasted users.</p>
                          </td>
                          <td width=151 valign=top style='width:4.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Capacity planning and forecast are based on user
                          information.</p>
                          </td>
                          <td width=142 valign=top style='width:106.35pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text"><a class='a_link' href="ran_hld_module.html">RAN HLD Module</a></p>
                          </td>
                         </tr>
                        </table>
                        </div>

                        <p align=center><i>Table 1 Inputs for the
                        Mobile Core HLD Module</i></p>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item2-4">2.4
                        EPC Core Networking</a></h2>
                        
                        <p class="normal-text">The interfaces
                        within the EPC and to external networks use a combination of Layer 2 (L2),
                        Layer 3 (L3) and upper-layer protocols to communicate. Many of the EPC
                        interfaces have specific protocol requirements; however, for other interfaces,
                        the NaaS Operator must select the protocols to be used as part of the HLD. The
                        following sections contain a quick overview of L2 &amp; L3 protocols. </p>
                        
                        <h3><a></a>2.4.1
                        Layer 2 Interworking: Ethernet Switching</h3>
                        
                        <p class="normal-text">Layer 2
                        switching is the easiest way to provide connectivity in a network and it is
                        used to connect all the servers in a virtualized environment. This mechanism
                        will enable NaaS operators to build networks whose hosts can communicate with
                        each other within the same physical network. However, the NaaS Operator may
                        need to separate certain elements or type of traffic which can be done through
                        VLANs</p>
                        
                        <p class="normal-text">Virtual Local
                        Area Networks (VLAN) are switched networks that are logically segmented on a
                        functional basis, instead of an actual physical basis. It is used extensively
                        in order to deploy logically independent Ethernet networks over the same
                        Ethernet infrastructure. For example, members of the same Ethernet network
                        should be able to communicate with each other. If the switch implements VLANs,
                        the devices within the network can be segmented and separated logically so the
                        communication only happens between members of the same logical network. Further
                        guidance for VLAN design is provided in section 3.1.1.</p>
                        
                        <h3><a></a>2.4.2
                        Layer 3 Interworking: Dynamic Routing Mechanisms</h3>
                        
                        <p class="normal-text">Routing is
                        needed for the NaaS operator to support inter-VLAN communication and to connect
                        to other network domains such as external networks or the Internet. If we take
                        the previous VLAN example, we would be able to communicate between logical
                        networks (VLANs) by adding a router to the Ethernet infrastructure and
                        configure it with a routing mechanism. It is important to note that the VLAN intercommunication
                        can be selectively done. For the EPC implementation, we can administratively
                        communicate two or more logical interfaces by enabling the communication on the
                        router side (e.g. all O&amp;M interfaces across different network segments).</p>
                        
                        <p class="normal-text">There are two
                        types of routing mechanisms: static and dynamic. Static routing refers that the
                        routing information does not change and it is configured and updated manually
                        on each equipment. Static routes are only used when managing one or two routes
                        and no changes in the network are expected. On the other hand, dynamic routing
                        refers to the routing information being updated automatically on each equipment
                        according to the network changes (e.g. new connections) and conditions (e.g.
                        delay, throughput). It is strongly recommended to always implement dynamic
                        routing because it eases the management and adapts to network growth.</p>
                        
                        <p class="normal-text">In the following
                        review, only dynamic routing is revised due to the aforementioned capabilities.
                        Figure 7, shows the different classification of dynamic routing protocols,
                        which is reviewed in the section below.</p>
                        
                        <p class="normal-text"><img width=642 height=303 id=image19.png
                        src="images/mobile_core_hld/image007.png"></p>
                        
                        <p align=center><i>Figure 7 Routing Protocols Classification</i></p><br>
                        
                        <h4><a></a>2.4.2.1
                        Dynamic Routing Protocols</h4>
                        
                        <p class="normal-text"><b>Interior Gateway Protocols (IGP)</b></p>
                        
                        <p class="normal-text">An Autonomous
                        System (AS) or routing domain is the unit of the router policy. It refers to a
                        single network or a group of networks controlled by a common network
                        administrator (e.g. the NaaS Operator EPC network). The IGP enables automatic
                        routing for networks within the same AS, which is also referred to as intra-AS
                        routing. IGPs include Enhanced Interior Gateway Routing Protocol (EIGRP), Open
                        Shortest Path First (OSPF), and Intermediate System to Intermediate System
                        (IS-IS); and can be classified in two main categories based on the information
                        they provide to route: Distance Vector and Link-State routing protocols.</p>
                        
                        <p class="normal-text">The choice of
                        the routing protocol to be implemented is generally based on the network
                        operator capabilities and network size. For the NaaS Operator environment, OSPF
                        and IS-IS are the recommended protocols. Further discussion of the protocols,
                        pros and cons can be found in the Transport &amp; IP Architecture Module.</p><br>
                        
                        <p class="normal-text"><b>Exterior Gateway Protocols (EGP)</b></p>
                        
                        <p class="normal-text">EGPs are used
                        for routing between autonomous systems, which is also referred to as inter-AS
                        routing. Interconnection between service providers and large companies is
                        performed using an EGP.</p>
                        
                        <p class="normal-text">The Border
                        Gateway Protocol (BGP) is the de-facto EGP and is the official routing protocol
                        used on the Internet. Even though BGP is an inter-AS protocol, it can still be
                        used inside an AS as a pipe to exchange BGP updates among gateway routers
                        belonging to the same AS, thats why BGP always requires an IGP to operate. BGP
                        connections inside an AS are called Internal BGP (IBGP), whereas BGP
                        connections between ASs are called External BGP (EBGP).</p>
                        
                        <p class="normal-text">Figure 8 shows a
                        BGP example where router R2 is receiving routing advertisements from R1, since
                        the AS between R1 &amp; R2 are different, R2 registers the routes into his
                        routing table. When R3 receives the routing advertisements from R2, it discards
                        the ones that belong to the same AS (AS-2) and only forwards the routes from
                        AS-1 (acting as a pipe for routing advertisements).</p>
                        
                        <p class="normal-text"><img
                        width=508 height=82 id=image30.png
                        src="images/mobile_core_hld/image008.png"></p>
                        
                        <p align=center><i>Figure 8 EBGP and IBGP application
                        diagram</i></p><br>
                        
                        <p class="normal-text">BGP allows for
                        easy traffic manipulation, so the NaaS operator will use it when connecting to
                        networks in domains out of the control of its own administration, for example,
                        to an Internet Service Provider (ISP) and to customer MNOs. These external
                        networks cannot be trusted so the exchanged information should be carefully
                        controlled with routing policies. However, if the NaaS operator only has one
                        connection to an external domain (e.g. ISP), BGP is not needed and the use of
                        static routes can be an option to provide connectivity (not recommended).</p>
                        
                        <br><h2><a class="titulo-h2 anchor-bum" name="item2-5">2.5
                        Network Element (NE) Capacity Planning
                        Guidelines</a></h2>
                        
                        <p class="normal-text">Capacity
                        Planning is a process that estimates the requirements of the network according
                        to the expected services, subscribers and number of connections to external
                        networks. The NaaS Operator must execute a Capacity Planning process in order
                        to dimension the equipment and interfaces according to its needs. To facilitate
                        capacity planning the following sections will be explored:</p>
                        
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li>Capacity Dimensioning:
                            General procedure for the estimation of traffic and signaling loads according
                            to the expected subscribers. It includes the sizing of the interfaces to
                            external networks.</li>
                            
                            <li>Network Elements
                            Dimensioning: Calculation of the most common parameters to dimension the number
                            of EPC and PCC elements that will be required in the network.</li>
                        </ul>
                        
                        <h3 style='text-align:justify'><a></a>2.5.1
                        Capacity Dimensioning </h3>
                        
                        <p class="normal-text">Capacity forecasting is the network planning stage aimed to
                        calculate the network needs to obtain an effective network, both in terms of
                        cost and performance. The steps of the dimensioning stage are:</p>
                        
                        <ol class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li>Estimate the traffic that
                             will be generated by all subscribers.</li>
                            <li>Estimate the capacity
                                demand for every network element.</li>
                            <li>Calculate the number of network elements.</li>
                        </ol>
                        
                        <p class="normal-text">It should be noted that the total traffic generated consists of the user plane traffic and the
                        signaling generated by every connection/session.</p>
                        
                        <p class="normal-text"><b><u>Step 1.</u></b>
                        The services offered by the network and the number of subscribers will directly
                        drive the total traffic that the network needs to handle. To ease the capacity planning process, it is strongly
                        recommended to separate Control Plane (CP), and User Plane (UP) traffic.</p>
                        
                        <p class="normal-text">The User Plane (UP) is deeply correlated to the number of
                        subscribers, the to-be-offered services, service penetration and the service
                        profile.</p>
                        
                        <p class="normal-text">The Control Plane (CP) is driven from user behavior in
                        terms of mobility, service usage frequency and durations of active and idle
                        behavior.</p>
                        
                        <p class="normal-text">Specific methodology for calculation is provided in section
                        3.2.</p>
                        
                        <p class="normal-text"><b><u>Step 2.</u></b>
                        The capacity estimation for every network element is linked through a direct
                        relation of the maximum number of users at busy hours (peak rates) and the role
                        of each mobile core element. For logical entities with control plane
                        functionality (e.g. MME), the number of signaling operation requests will be
                        the main driver. In contrast, the ones with user plane functionality (SGW,
                        PGW), the session establishment and data forwarding will have a major impact.
                        The methodology to estimate the capacity demand for network elements is
                        presented in section 3.2.</p>
                        
                        <p class="normal-text"><b><u>Step 3.</u></b>
                        To calculate the number of required network elements (NE), it is necessary to
                        run a quick survey of commercially available equipment to know an average
                        capacity for each metric. Once the average metrics are known, the required
                        network element quantity is calculated as shown in the following equation:</p>
                        

                        <br>
                        <i><img width=530  src="images/mobile_core_hld/eq_1.png" style="margin-right:15px;"></i>
                        <p class="normal-text" style="float: right;">(Eq. 1)</p>
                        <br><br> 
                        
                        <p class="normal-text"><a></a>Where <i><img width=68 height=20
                        src="images/mobile_core_hld/eq_2.png"></i>is the NE quantity, <i><img width=203 height=19
                        src="images/mobile_core_hld/eq_3.png"></i> is the <i>n-th </i>metric for one NE estimated
                        in Step 3, <i><img width=111 height=19
                        src="images/mobile_core_hld/eq_4.png"></i> is the <i>n-</i>th average metric for one NE
                        and <i><img width=13 height=19
                        src="images/mobile_core_hld/eq_5.png"></i> is the number of metrics one NE has (see Table 2).</p>
                        
                        <p class="normal-text"><a></a>The most common dimensioning parameters for the EPC and PCC elements
                        are shown in Table 2. It is important to mention that for some vendors the metrics can be simplified to number of active users and total subscribers. The next
                        table contains the metrics for each EPC logical element:</p>
                        
                        <div align=center>
                        
                        <table class=a1 border=1 cellspacing=0 cellpadding=0 width=548
                         style='border-collapse:collapse;border:none'>
                         <tr>
                          <td width=123 valign=top style='width:92.15pt;border:solid black 1.0pt;
                          background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Network
                          Element<a></a></p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border:solid black 1.0pt;
                          border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Metric</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border:solid black 1.0pt;
                          border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p align=center style="color:#FFF">Units</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 rowspan=4 style='width:92.15pt;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">MME</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Simultaneously Attached Users (SAU)</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Subscribers</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Idle to active transition/second</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Transactions per second (Tps)</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tracking Area Update Requests</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Handover requests</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 rowspan=2 style='width:92.15pt;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">SGW/PGW-C</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of Active Bearers/Sessions</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Bearers/Sessions</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of transactions completed
                          in one second</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 style='width:92.15pt;border:solid black 1.0pt;border-top:none;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">SGW/PGW-U</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Data Forwarding Capacity</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Gbps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 style='width:92.15pt;border:solid black 1.0pt;border-top:none;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">HSS</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of Users Supported</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Subscribers</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 style='width:92.15pt;border:solid black 1.0pt;border-top:none;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">PCRF</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Operation Capacity</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 rowspan=2 style='width:92.15pt;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">OCS</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of subscribers to be
                          record</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Subscribers</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of transactions completed
                          in one second</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=123 rowspan=2 style='width:92.15pt;border:solid black 1.0pt;
                          border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">OFCS</p>
                          </td>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of subscribers to be
                          record</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Subscribers</p>
                          </td>
                         </tr>
                         <tr>
                          <td width=227 valign=top style='width:6.0cm;border-top:none;border-left:none;
                          border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Number of transactions completed
                          in one second</p>
                          </td>
                          <td width=198 valign=top style='width:148.6pt;border-top:none;border-left:
                          none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                          padding:0cm 5.75pt 0cm 5.75pt'>
                          <p class="normal-text">Tps</p>
                          </td>
                         </tr>
                        </table>
                        
                        </div>
                        
                        <p align=center><i>Table 2. EPC/PCC Dimensioning
                        parameters</i></p><br>


                        
                        
                        
                        
                </div>

                <div class="right">
                    <a class='link-next' href="#" onclick="switchContent('#fm')">Next &#8658;</a>
                </div>
                <br>
            </div>

            <nav id="navbar-example3" class="navbar navbar-light bg-light position-fixed">
                <nav class="nav nav-pills flex-column">
                
                <a id="link-1" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item1"><strong>1. INTRODUCTION</strong></a>
                <a id="link-2" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item1-1"><em>1.1 Module Objectives</em></a>
                <a id="link-3" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item1-2"><em>1.2 Module Framework</em></a>
                <a id="link-4" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2"><strong>2. HLD FUNDAMENTALS</strong></a>
                <a id="link-5" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2-1"><em>2.1 EPC Overview</em></a>
                <a id="link-6" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2-2"><em>2.2 Mobile Core Environment</em></a>
                <a id="link-7" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2-3"><em>2.3 Mobile Core HLD Inputs Description</em></a>
                <a id="link-8" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2-4"><em>2.4 EPC Core Networking</em></a>
                <a id="link-9" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item2-5"><em>2.5 Network Element (NE) Capacity Planning Guidelines</em></a>
                </nav>
            </nav>
       </section>

       <section id="fm" hidden>
        <div id="content"> 

            <div data-spy="scroll" data-target="#navbar-example3" data-offset="0">
                <h1><a class="titulo-h1 anchor-bum" name="item3">3
                    Functions &amp; Methodologies (How-To)</a></h1>
                    
                    <p class="normal-text">This section
                    discusses the methodologies to perform critical tasks/subtasks involved in the
                    Mobile Core design process, such as Interconnection Requirements, Capacity
                    Forecast, and VNF Dimensioning. These critical tasks will help in the E2E
                    process to reach a successful HLD recommendation.</p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item3-1">3.1
                    Interconnection Requirements Definition</a></h2>
                    
                    <p class="normal-text">The Tx &amp; IP Architecture Module establishes the
                    protocols to be used in each of the network domains (last-mile and
                    aggregation). Additionally, this module examines the alternatives to implement
                    connections within the core elements and connections to external networks.</p>
                    
                    <p class="normal-text">Most of the requirements and, consequently, the networking
                    protocols are given by the network that is required to interconnect. The Mobile
                    Core Architecture Module defines the connections to other networks (e.g.
                    Internet) and through roaming agreements (to other MNOs). In this section,
                    networking protocols for those interconnections are defined.</p>
                    
                    <p class="normal-text">It is strongly recommended that the NaaS Operator
                    implements the most common L2 &amp; L3 protocols since this will facilitate
                    interconnection. However, when interconnecting to legacy 2G/3G networks, some
                    legacy protocols may be required.</p>
                    
                    <p class="normal-text">The networking protocols can be subdivided into the
                    following groups:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Layer 2 Protocols</li>
                        <li>Layer 3 Protocols</li>
                        <li>Layer 4 Protocols</li>
                        <li>Upper Layer Protocols</li>
                    </ul>
                    
                    <h3><a></a>3.1.1
                    Layer 2 Recommendation</h3>
                    
                    <p class="normal-text">For Layer 2 (L2), even though there are several options to
                    choose, the most conventional protocol is Ethernet and it can be over copper or
                    fiber optic. It is always recommended to use Ethernet, thus avoiding
                    interoperability issues.</p>
                    
                    <p class="normal-text">In terms of VLAN segmentation, it is recommended to allocate VLANs for specific purposes such as O&amp;M, or EPC
                    interfaces. The recommendation should look as follows:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>One VLAN for all O&amp;M
                    Interfaces so they can be isolated from the rest of the traffic.</li>
                        <li>
                    One for each EPC interface
                    (e.g. S1-U, S1-MME, S11, S5/S8) so a per-interface isolation is achieved.</li>
                    </ul>
                    
                    <p class="normal-text">It is also recommended
                    that the VLAN assignment for the MME follow the guidelines of the <a class="a_link" href="tx_hld_module.html">Tx HLD Module</a>.</p>
                    
                    <h3><a></a>3.1.2
                    Layer 3 Recommendation</h3>
                    
                    <p class="normal-text">In terms of Layer 3 (L3), the most standardized protocol is
                    Internet Protocol (IP). Routing protocols Open Shortest Path First (OSPF),
                    Border Gateway Protocol (BGP) and Intermediate System to Intermediate System
                    (IS-IS) operate at this layer together with IP. As stated in section 2.4.2,
                    OSPF is recommended for Mobile Core internal routing in the NaaS environment
                    due to its adaptability, flexibility and easiness of management. In addition,
                    BGP should be considered by NaaS operators for boundary routing such as
                    connection to other MNOs and to the Internet.</p>
                    
                    <p class="normal-text">For example, for the EPC, the SGi interface is a 3GPP
                    standardized point of connection between the Packet Data Network Gateway (PGW)
                    and external networks (e.g Internet or IP Multimedia Subsystem, IMS). The SGi
                    logical interface is based on Ethernet + IP protocols + <u>BGP routing
                    mechanism</u>. In contrast, the connection between (Serving Gateway) SGW and
                    PGW is the 3GPP-standardized interface S5/S8. The S5/S8 logical interface is
                    based on Ethernet + IP protocols + <u>IGP routing mechanism</u>. Please refer
                    to Figure 9.</p>
                    
                    <p class="normal-text"><img width=539 height=297 id=image18.png
                    src="images/mobile_core_hld/image009.png"></p>
                    
                    <p align=center><i>Figure 9 Layer 3 Recommendation for inner
                    and outer EPC interfaces.</i></p><br>
                    
                    <p class="normal-text"><a></a><b>L3 Security
                    Recommendation</b></p>
                    
                    <p class="normal-text">Security and privacy have always been a concern for all the
                    networks and the EPC is not the exception. For connections within the EPC, it
                    can be guaranteed that a certain degree of security and privacy is met because
                    the infrastructure will be owned by the NaaS Operator. On the other hand, the
                    connections to external networks will go through domains out of the control of
                    the NaaS Operator so it is necessary to implement mechanisms to provide
                    security to these outer connections.</p>
                    
                    <p class="normal-text">Layer 3 Virtual Private Network (L3VPN) and IP Security
                    (IPSec) are mechanisms to provide authentication and encryption of data packets
                    between two network elements over the IP protocol. The advantages and
                    disadvantages of L3VPN and IPSec are contained in the following table. </p>
                    
                    <div align=center> 
                    <table class=a2 border=1 cellspacing=0 cellpadding=0 width=595
                     style='margin-left:-7.1pt;border-collapse:collapse;border:none'>
                     <tr>
                      <td width=57 valign=top style='width:42.55pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text"></p>
                      </td>
                      <td width=265 valign=top style='width:7.0cm;border:solid black 1.0pt;
                      border-left:none;background:#366091;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style="color:#FFF">Pros</p>
                      </td>
                      <td width=274 valign=top style='width:205.55pt;border:solid black 1.0pt;
                      border-left:none;background:#366091;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style="color:#FFF">Cons</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=57 valign=top style='width:42.55pt;border:solid black 1.0pt;
                      border-top:none;background:#BFBFBF;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">IPSec</p>
                      </td>
                      <td width=265 valign=top style='width:7.0cm;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">&#9679;
                      Transparent to
                      applications.</p>
                      <p class="normal-text">&#9679;
                      No impact on higher
                      layers.</p>
                      <p class="normal-text">&#9679;
                      Can Apply to real-time
                      traffic.</p>
                      <p class="normal-text">&#9679;
                      IPSec offers encryption
                      to: payload, header and routing information.</p>
                      </td>
                      <td width=274 valign=top style='width:205.55pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">&#9679;
                      Since IPSec establishes a tunnel between two
                      networks, the security breaches at IP level on the remote network are shared
                      to the local network and vice versa.</p>
                      <p class="normal-text">&#9679;
                      ISPs might consider
                      anything IPSec-encrypted to be a &quot;business-class&quot; transmission and
                      rate it at higher costs.</p>
                      <p class="normal-text">&#9679;
                      Increased bandwidth and
                      latency due to authentication and encryption process plus the IPSec overhead
                      addition.</p>
                      <p class="normal-text">&#9679;
                      NAT and Firewall might
                      cause problems when IPSec is used.</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=57 valign=top style='width:42.55pt;border:solid black 1.0pt;
                      border-top:none;background:#BFBFBF;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">L3VPN</p>
                      </td>
                      <td width=265 valign=top style='width:7.0cm;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">&#9679;
                      Extremely scalable VPN
                      architecture.</p>
                      <p class="normal-text">&#9679;
                      Allows the NaaS Operator
                      to simplify its WAN routing by allowing direct routing information sharing
                      between the equipment (router) on the edge of its own AS to the edge
                      equipment of external networks or AS.</p>
                      <p class="normal-text">&#9679;
                      Supports QoS and real-time
                      traffic.</p>
                      <p class="normal-text">&#9679;
                      Support tight SLAs with
                      fast failover and guaranteed bandwidth.</p>
                      </td>
                      <td width=274 valign=top style='width:205.55pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">&#9679;
                      Only IP traffic is supported
                      which will result in lack of legacy protocol/ application support.</p>
                      <p class="normal-text">&#9679;
                      Customers do not have complete control of their WAN IP routing.</p>
                      <p class="normal-text">&#9679;
                      Customers must share
                      the routing responsibility with the service provider.</p>
                      <p class="normal-text">&#9679;
                      Do not natively (by
                      default) offer the strong authentication and encryption of secure VPNs such
                      as IPsec.</p>
                      </td>
                     </tr>
                    </table>
                    </div>
                    
                    <p align=center><i>Table 3. IPSec and L3VPN
                    Pros and Con</i></p><br>
                    
                    <p class="normal-text">In terms of security IPSec or L3VPN are largely supported
                    and recommended, especially
                    when connecting to external networks.</p>
                    
                    <p class="normal-text">Further details of L3 routing mechanisms can be found in
                    section 2.4.2.</p>
                    
                    <h3><a></a>3.1.3
                    Layer 4 Recommendation</h3>
                    
                    <p class="normal-text">There are only a few Layer 4 (L4) protocols commonly used.
                    Transmission Control Protocol (TCP), User Datagram Protocol (UDP) and Stream
                    Control Transmission Protocol (SCTP)</p>
                    
                    <p class="normal-text">User traffic usually makes use of TCP or UDP and this should be transparent to the Mobile
                    Core Network.</p>
                    
                    <p class="normal-text">On the other hand, protocols to be used for signaling
                    traffic may be defined by 3GPP standards and the NaaS Operator cant change
                    them. Here, its important to note that some signaling interfaces by standard,
                    require the use of Stream Control Transmission Protocol (SCTP). Whenever the
                    NaaS Operator can choose the L4 protocol in a signaling interface, SCTP should
                    be selected over TCP, because it has the same functionality plus enhanced
                    capabilities.</p>
                    
                    <h3><a></a>3.1.4
                    Upper Layers Recommendation</h3>
                    
                    <p class="normal-text">GPRS Tunnel
                    Protocol (GTP) and Diameter protocols are specified by 3GPP standards to be
                    used in several Mobile Core interfaces on top of Layer 4. GTP is used for
                    general communication and signaling (Control/User Plane), whereas Diameter is
                    mainly used for authentication, authorization and accounting (AAA).</p>
                    
                    <p class="normal-text">One of the most important scenarios where these protocols
                    are required is for roaming. In home routed scenarios S6a (Diameter-based)
                    and S8 (GTP-based) interfaces are required while in local breakout S6a and S9
                    (Diameter-based) are needed.</p>
                    
                    <p class="normal-text"><b>Diameter-based Interfaces</b></p>
                    
                    <p class="normal-text">Diameter Edge Agent (DEA)/ Diameter Routing Agent (DRA) is an entity with routing
                    capabilities at the Diameter layer. DEA/DRAs are required for diameter-based
                    equipment for successful roaming interconnection since it will forward the
                    diameter messages to the correct equipment. In other words, it means that for
                    all external connections that are based on the diameter protocol, it is
                    recommended to implement a single DRA.</p>
                    
                    <p class="normal-text">Figure 10 shows the typical protocol stack for diameter-based
                    interfaces such as S9 (Home to Visitor PCRF), S6a (MME to HSS) and Gx (PGW to
                    PCRF) with an intermediate DRA. </p>
                    
                    <p class="normal-text"></p>
                    
                    <p class="normal-text"><img width=472 height=390 id=image25.png
                    src="images/mobile_core_hld/image010.png"></p>
                    
                    <p align=center><i>Figure 10 Typical Networking with a DRA.</i></p><br>
                    
                    <p class="normal-text"><a></a><b>GTP-based
                    Interfaces</b></p>
                    
                    <p class="normal-text">For GTP, no requirements are needed since GTP is ready to
                    cope with external and internal networks. For further configuration details,
                    please refer to Mobile Core LLD Module.</p>
                    
                    <p class="normal-text">Figure 11 and
                    Figure 12 shows the typical protocol stacks for external and roaming interfaces
                    where GTP is used.</p>
                    
                    <p class="normal-text"><img width=700 height=290 id=image31.png
                    src="images/mobile_core_hld/image011.png"> </p>
                    
                    <p align=center><i>Figure 11 Protocol Stacks for an eNB
                    connection to the EPC (MME and SGW).</i></p>
                    
                    <p class="normal-text"><img width=300 height=260 id=image28.png
                    src="images/mobile_core_hld/image012.png"></p>
                    
                    <p align=center><i>Figure 12 Protocol Stacks for external
                    networks.</i></p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item3-2">3.2
                    Capacity Forecast Analysis</a></h2>
                    
                    <p class="normal-text">Capacity forecasting is a process that uses subscriber
                    forecasts from the RAN &amp; Tx HLD Modules to estimate EPC Core interface and
                    equipment dimensioning.</p>
                    
                    <p class="normal-text">The inputs to perform capacity forecast are shown in Table 4. These inputs can be obtained from
                    the RAN &amp; TX HLD Modules and, in most cases, from other networks or
                    estimates shared by the customer MNOs. If these are not available, values in
                    the example presented throughout section 4.2 can be used.</p>
                    
                    <div align=center>
                    
                    <table class=a3 border=1 cellspacing=0 cellpadding=0 width=434
                     style='border-collapse:collapse;border:none'>
                     <tr>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style="color:#FFF">Input<a></a></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border:solid black 1.0pt;
                      border-left:none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style="color:#FFF">Description</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text"><img
                      width=18 height=19
                      src="images/mobile_core_hld/image019.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Total number of users in the
                      network, including those from customer MNOs [users]</p>
                      </td>
                     </tr>
                     <tr style='height:23.55pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:23.55pt'>
                      <p class="normal-text"><img
                      width=22 height=19
                      src="images/mobile_core_hld/image020.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:23.55pt'>
                      <p class="normal-text">Percentage of the overall users
                      that are users of a specific service [%]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=22 height=19
                      src="images/mobile_core_hld/image021.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Percentage of active users during
                      the busy hour [%] (can be applied to specific scenarios, e.g. active subscribers due to voice or data service).</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=29 height=19
                      src="images/mobile_core_hld/image022.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Percentage of Simultaneous
                      Attached Users (SAU) during the busy hour [%] (SAU have at least one
                      active/idle session established)</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=46 height=19
                      src="images/mobile_core_hld/image023.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average data transmitted in a
                      session at busy hour for a given service [MB/session]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=49 height=19
                      src="images/mobile_core_hld/image024.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Number of sessions per user at
                      busy hour [sessions]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=51 height=19
                      src="images/mobile_core_hld/image025.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of attach attempts
                      per user at busy hour [transaction/user]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=52 height=19
                      src="images/mobile_core_hld/image026.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of detach attempts
                      per user at busy hour [transaction/user]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=71 height=19
                      src="images/mobile_core_hld/image027.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of bearer
                      activation/deactivation operations per user at the busy hour [transaction/user]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=78 height=21
                      src="images/mobile_core_hld/image028.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of idle/active
                      transitions per user at the busy hour[transaction/user]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=57 height=19
                      src="images/mobile_core_hld/image029.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of Tracking Area
                      Updates (TAU) procedures per user at busy hour [transaction/user]</p>
                      </td>
                     </tr>
                     <tr style='height:14.2pt'>
                      <td width=85 valign=top style='width:63.55pt;border:solid black 1.0pt;
                      border-top:none;padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text"><img
                      width=51 height=19
                      src="images/mobile_core_hld/image030.gif"></p>
                      </td>
                      <td width=350 valign=top style='width:262.25pt;border-top:none;border-left:
                      none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
                      padding:0cm 5.75pt 0cm 5.75pt;height:14.2pt'>
                      <p class="normal-text">Average number of HO procedures
                      attempted per user at busy hour [transaction/user]</p>
                      </td>
                     </tr>
                    </table>
                    
                    </div>
                    
                    <p align=center><i>Table 4. Inputs for
                    Capacity Forecast Analysis</i></p><br>
                    
                    <p class="normal-text">Often, Mobile Core Solution Providers only require the
                    total Number of Users <i><img width=35 height=20
                    src="images/mobile_core_hld/eq_6.png"></i>and Number of active users during the busy hour
                    <i><img width=45 height=20
                    src="images/mobile_core_hld/eq_7.png"></i>to dimension the solution. However, for more
                    detailed dimensioning, the NaaS operator can follow the process described in
                    the subsequent sections, which addresses the dimensioning of traffic,
                    signaling, Mobile Core NEs and interfaces. As a complement, the <a class='a_link' href="core_hld_widget_1.html">Mobile Core Capacity Forecast Widget</a> is provided to NaaS Operators to facilitate all
                    the calculations related to Capacity Forecasting.</p>
                    
                    <h3><a></a>3.2.1
                    Traffic Dimensioning</h3>
                    
                    <p class="normal-text">Traffic
                    Dimensioning estimates the total traffic generated by the total expected users.
                    It is the input to calculate the forwarding capacity of the SGW and PGW
                    entities and, additionally, S1-U, SGi and S5/S8 Interfaces.</p>
                    
                    <p class="normal-text"><u>Step 1.</u>
                    Users per service.</p>
                    
                    <p class="normal-text">Capacity planning must begin with the user forecast from
                    RAN HLD Module and penetration for each service such as data and voice. For a
                    given service, the relationship to the estimated users is given by the
                    following formula:</p>

                    <i><img width=170 height=30 src="images/mobile_core_hld/eq_8.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 2) </p>
                    <br><br> 
                                            
                    <p class="normal-text">Where: <i><img width=24 height=19
                    src="images/mobile_core_hld/image034.gif"></i> is the number of users for a given service in
                    the network [users].</p>
                    
                    <p class="normal-text"><u>Step 2.</u>
                    Service Profile.</p>
                    
                    <p class="normal-text">Each service will have a specific traffic model, it will
                    depend on the frequency of usage (<i><img width=49 height=19
                    src="images/mobile_core_hld/image024.gif"></i>) and the amount of data transferred in every
                    session (<i><img width=46 height=19
                    src="images/mobile_core_hld/image023.gif"></i>). The next equation shows this relationship:</p>
                    
                    <i><img width=170 height=30 src="images/mobile_core_hld/eq_11.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 3) </p>
                    <br><br> 
                    
                    <p class="normal-text">Where: <i><img width=22 height=19
                    src="images/mobile_core_hld/image036.gif"></i> is the amount of data per service per user at
                    busy hour [MB].</p>
                    
                    <p class="normal-text">After calculating the total amount for each service, it is
                    necessary to translate into bandwidth by the next equation:</p>

                    <i><img width=170 height=30 src="images/mobile_core_hld/eq_12.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 4) </p>
                    <br><br> 
                    
                    
                    <p class="normal-text">Where: <i><img width=15 height=19
                    src="images/mobile_core_hld/image038.gif"></i> is the bandwidth per user for a specific
                    offered service at busy hour [Mbps].</p>
                    
                    <p class="normal-text"><u>Step 2.</u>
                    Data Traffic.</p>
                    
                    <p class="normal-text">The total data traffic (<i><img width=24 height=19
                    src="images/mobile_core_hld/image039.gif"></i>) is calculated by the sum of the products of
                    the service bandwidth (<i><img width=15 height=19
                    src="images/mobile_core_hld/image038.gif"></i>) and the active users per service (<i><img width=24 height=19
                    src="images/mobile_core_hld/image040.gif"></i>) at the busy hour. This calculation will help
                    the NaaS Operator to estimate the traffic that will go through interfaces such
                    as S1-U, S5/S8 and SGi.</p>
                    
                    <p class="normal-text">First, the active users per service at busy hour are
                    calculated as follows:</p>

                    <i><img width=200 height=30 src="images/mobile_core_hld/eq_13.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 5) </p>
                    <br><br> 
                    
                    <p class="normal-text">Then the total data traffic (<i><img width=24 height=19
                    src="images/mobile_core_hld/image039.gif"></i>):</p>

                    <i><img width=300 height=55 src="images/mobile_core_hld/eq_14.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 6) </p>
                    <br><br> 
                    
                   
                    
                    <p class="normal-text">Where <i><img width=24 height=19
                    src="images/mobile_core_hld/image039.gif"></i> is measured in Mbps.</p>
                    
                    <h3><a></a>3.2.2
                    Signaling Dimensioning</h3>
                    
                    <p class="normal-text">The Signaling dimensioning estimates the total amount of
                    signaling load generated by the users due to registration, mobility, security
                    and session establishment procedures. The first step is to calculate the number
                    of simultaneous attached users (<i><img width=31 height=19
                    src="images/mobile_core_hld/image043.gif"></i>)</p>

                    <i><img width=170 height=35 src="images/mobile_core_hld/eq_15.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 7) </p>
                    <br><br> 
                    
                    
                    <p class="normal-text">Then, the signaling calculation (number of transactions per
                    second) must be based on this number of simultaneous attached users multiplied
                    by the number of attempts for a given signaling procedure at peak hours. For
                    Attach procedures:</p>

                    <i><img width=230 height=35 src="images/mobile_core_hld/eq_16.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 8) </p>
                    <br><br> 
                    
                    
                    <p class="normal-text">Where: <i><img width=51 height=19
                    src="images/mobile_core_hld/image025.gif"></i> is the average number of attach attempts per
                    user at busy hour [transaction/user] and <i><img width=45 height=19
                    src="images/mobile_core_hld/image046.gif"></i> is the total number of attach procedures
                    [transaction/hr].</p>
                    
                    <p class="normal-text">For Detach procedures:</p>

                    <i><img width=230 height=45 src="images/mobile_core_hld/eq_17.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 9) </p>
                    <br><br> 
        
                    <p class="normal-text">Where: <i><img width=52 height=19
                    src="images/mobile_core_hld/image026.gif"></i> is the average number of detach attempts per
                    user at busy hour [transaction/user] and <i><img width=46 height=19
                    src="images/mobile_core_hld/image048.gif"></i> is the total number of detach procedures [transaction/hr].</p>
                    
                    <p class="normal-text">For Bearer establishment and termination procedures:</p>

                    <i><img width=230 height=40 src="images/mobile_core_hld/eq_18.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 10) </p>
                    <br><br> 
                    
                    <p class="normal-text">Where: <i><img width=71 height=19
                    src="images/mobile_core_hld/image027.gif"></i> is the average number of Bearer establishment
                    attempts per user at busy hour [transaction/user] and <i><img width=46 height=19
                    src="images/mobile_core_hld/image050.gif"></i> is the total number of Bearer establishment
                    procedures [transaction/hr].</p>
                    
                    <p class="normal-text">For Bearer Modification and termination procedures:</p>

                    <i><img width=360 height=40 src="images/mobile_core_hld/eq_19.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 11) </p>
                    <br><br> 
                    
                    <p class="normal-text">Where: <i><img width=98 height=20
                    src="images/mobile_core_hld/image052.gif"></i> is the average number of Bearer modification
                    attempts per user at busy hour [transaction/user] and <i><img width=74 height=20
                    src="images/mobile_core_hld/image053.gif"></i> is the total number of Bearer modification
                    procedures [transaction/hr].</p>
                    
                    <p class="normal-text">For Tracking Area Update procedures:</p>
                    

                    <i><img width=240 height=40 src="images/mobile_core_hld/eq_20.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 12) </p>
                    <br><br>

                    <p class="normal-text">Where: <i><img width=57 height=19
                    src="images/mobile_core_hld/image029.gif"></i> is the average number of TAU attempts per user
                    at busy hour [transaction/user] and <i><img width=32 height=19
                    src="images/mobile_core_hld/image055.gif"></i> is the total number of TAU procedures
                    [transaction/hr].</p>
                    
                    <p class="normal-text">For Handover procedures:</p>

                    <i><img width=210 height=35 src="images/mobile_core_hld/eq_21.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 13) </p>
                    <br><br>
                    
                    <p class="normal-text">Where: <i><img width=51 height=19
                    src="images/mobile_core_hld/image030.gif"></i> is the average number of handover attempts per
                    user at busy hour [transaction/user] and <i><img width=26 height=19
                    src="images/mobile_core_hld/image057.gif"></i> is the total number of handover procedures
                    [transaction/hr].</p>
                    
                    <p class="normal-text">For Idle to Active state transition procedures:</p>

                    <i><img width=270 height=40 src="images/mobile_core_hld/eq_22.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 14) </p>
                    <br><br>
                    
                    
                    <p class="normal-text">Where: <i><img width=77 height=21
                    src="images/mobile_core_hld/image059.gif"></i> is the average number of active/idle state
                    transition attempts per user at busy hour [transaction/user] and <i><img width=53 height=21
                    src="images/mobile_core_hld/image060.gif"></i> is the total number of active/idle state
                    transition procedures [transaction/hr].</p>
                    
                    <p class="normal-text">In the end, the sum of all the procedures that occur at the
                    busy hour per logical entity will drive the dimensioning and these procedures
                    must not surpass the 80% capacity of each logical entity. For example, for the
                    MME, the following equation applies:</p>

                    <i><img width=600 height=40 src="images/mobile_core_hld/eq_23.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 15) </p>
                    <br><br>
                    
                    <p class="normal-text">Where <i><img width=35 height=19
                    src="images/mobile_core_hld/image062.gif"></i> is the total number of procedures at busy hour
                    at a specific interface or logical entity [transaction/hr]. Guidance to modify
                    the equation above for other logical entities is provided in the example in
                    section 4.2</p>
                    
                    <p class="normal-text">Finally, the only method to know the number of occurrences
                    is to measure in live network these average numbers, but considering the EPC is
                    a new deployment, a good estimation of occurrences per user at busy hour is
                    contained in Table 5. It is
                    based on user behavior from other networks.</p>
                    
                    <div align=center>
                    
                    <table class=af2 border=1 cellspacing=0 cellpadding=0 width=482
                     style='border-collapse:collapse;border:none'>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;background:#1F4E79;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Type
                      of Signaling Procedure<a></a></p>
                      </td>
                      <td width=198 style='width:148.85pt;border:solid black 1.0pt;border-left:
                      none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Average
                      number of Occurrence per user per hour</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Attach (<i><img width=70 height=19
                      src="images/mobile_core_hld/image063.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Detach (<i><img width=71 height=19
                      src="images/mobile_core_hld/image064.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Idle to active
                      transition (<i><img width=77 height=21
                      src="images/mobile_core_hld/image059.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">5</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Bearer Establishment (<i><img width=71 height=19
                      src="images/mobile_core_hld/image027.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">0.5</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Bearer Modification (<i><img width=98 height=20
                      src="images/mobile_core_hld/image052.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">0.1</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Tracking Area Update (<i><img width=57 height=19
                      src="images/mobile_core_hld/image029.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">0.3</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=283 style='width:212.4pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Handover (<i><img width=51 height=19
                      src="images/mobile_core_hld/image030.gif"></i>)</p>
                      </td>
                      <td width=198 style='width:148.85pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">0.2</p>
                      </td>
                     </tr>
                    </table>
                    
                    </div>
                    
                    <p align=center><i>Table 5 Occurrences for
                    every type of signaling procedure</i></p>
                    
                    <h3><a></a>3.2.3
                    Interface Dimensioning</h3>
                    
                    <p class="normal-text">Interface
                    Dimensioning calculates the total amount of traffic of each EPC logical
                    interface according to the corresponding signaling procedures and data
                    forwarding (CP+UP).</p>
                    
                    <p class="normal-text"><b><u>Control
                    Plane (CP):</u></b></p>
                    
                    <p class="normal-text">The CP is where
                    all the signaling procedures are carried out so for the traffic load
                    calculation it is assumed that for every procedure attempt 100 KB are used.
                    Under this premise, we can calculate the bandwidth that the signaling is
                    generating in every external interface. The interfaces are characterized by the
                    type of signaling procedures they support:</p>
                    
                    <p class="normal-text">For S1-MME Interface:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Attach</li>
                    
                        <li>
                        Detach</li>
                        
                        <li>
                        Bearer Establishment</li>
                        
                        <li>
                        Bearer Modification</li>
                        
                        <li>
                        Idle to active state change</li>
                        
                        <li>
                        TAU</li>
                        
                        <li>Handover</li>
                    </ul>
                    
                    <p class="normal-text">For S6a Interface:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Bearer Establishment</li>
                        <li>TAU</li>
                    </ul>
                    
                    <p class="normal-text">For S8 Interface:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Bearer Establishment</li>
                        <li>Bearer Modification</li>
                        <li>Data Traffic</li>
                    </ul>
                    
                    <p class="normal-text">For S9 Interface:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Bearer Establishment</li>
                        <li>Bearer Modification</li>
                    </ul>
                    
                    <p class="normal-text">The equation for calculating the amount of signaling
                    traffic is the same for all the above interfaces.</p>

                    <i><img width=400 height=80 src="images/mobile_core_hld/eq_24.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 16) </p>
                    <br><br>
                    
                    
                    <p class="normal-text">Where: <i><img width=135 height=19
                    src="images/mobile_core_hld/image066.gif"></i> is the Interface Control Plane [kbps], <i><img width=102 height=20
                    src="images/mobile_core_hld/image067.gif"></i> are the Signaling Messages per subscriber at
                    busy hour at a given interface [messages/subscriber/hour].</p>
                    
                    <p class="normal-text">For example, for S1-MME interface assuming a <i><img width=29 height=19
                    src="images/mobile_core_hld/image022.gif"></i> of 50% for 10k users.</p>
                    
                    <p class="normal-text"><img
                    width=350 height=35
                    src="images/mobile_core_hld/eq_25.png"></p>
                    
                    <p class="normal-text">S1-MME will have Attach, Detach, Idle to active state
                    change, TAU &amp; Handover procedures so based on Table
                    5.</p>
                    
                    <p class="normal-text"><img
                        width=600 height=150
                        src="images/mobile_core_hld/eq_260.png"></p>


                    <!--
                    <p class="normal-text"><img
                    width=600 height=40
                    src="images/mobile_core_hld/eq_26.png"></p>
                    
                    <p class="normal-text"><img
                    width=440 height=40
                    src="images/mobile_core_hld/eq_27.png"></p>
                    
                    <p class="normal-text"><img
                    width=499 height=65
                    src="images/mobile_core_hld/eq_28.png"></p>
                    -->
                    
                    <p class="normal-text"></p>
                    
                    <p class="normal-text"><b><u>User Plane
                    (UP):</u></b></p>
                    
                    <p class="normal-text">The only interfaces who carry UP traffic are: S1-U, S5/S8
                    and SGi. These interfaces will carry the data from all the users towards the
                    Internet so the user traffic load will be the same in non-roaming scenarios.</p>

                    <i><img width=250 height=40 src="images/mobile_core_hld/eq_29.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 17) </p>
                    <br><br>
                   
                    <p class="normal-text"></p>
                    
                    <p class="normal-text">For roaming scenarios, there are two possible options:</p>
                    
                    <p class="normal-text"><b>1
                    </b><b>Local Breakout:</b></p>
                    
                    <p class="normal-text">The interfaces that will be connected to other
                    MNOs networks are S6a and S9 as shown in Figure 13. This will have no impact on the previous equation.</p>
                    
                    <p class="normal-text"><img width=643 height=298 id=image27.png
                    src="images/mobile_core_hld/image013.png"></p>
                    
                    <p align=center><i>Figure 13 Local breakout architecture.</i></p><br>
                    
                    <p class="normal-text"><b>2
                    </b><b>Home Routed:</b></p>
                    
                    <p class="normal-text">The interfaces that will be connected to other MNOs
                    networks are S6a and S8 as shown in Figure 14.</p>
                    
                    <p class="normal-text"><img width=642 height=312 id=image26.png
                    src="images/mobile_core_hld/image014.png"></p>
                    
                    <p align=center><i>Figure 14 Home Routed Roaming
                    Architecture.</i></p><br>
                    
                    <p class="normal-text">For this scenario, the S8 interface will carry the user
                    traffic and signaling to other MNO networks and it should be calculated based
                    on the roaming subscribers:</p>

                    <i><img width=250 height=45 src="images/mobile_core_hld/eq_30.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 18) </p>
                    <br><br>
                                            
                    <p class="normal-text">Where: <i><img width=81 height=21
                    src="images/mobile_core_hld/image076.gif"></i> is the number of active users which correspond
                    to roaming.</p>
                    
                    <p class="normal-text">The load of the S5 and SGi interfaces on the NaaS Operator
                    EPC will decrease due the S8 traffic redirection to the corresponding MNOs. The
                    equation (16) will transform into:</p>


                    <i><img width=270 height=35 src="images/mobile_core_hld/eq_31.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 19) </p>
                    <br><br>
                    
        
                    
                    <p class="normal-text">Where: <i><img width=173 height=19
                    src="images/mobile_core_hld/image078.gif"></i> is the total traffic throughput corresponding
                    to the S5 and SGi interfaces in the home-routed roaming scenario.</p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item3-3">3.3
                    VNF Dimensioning</a></h2>
                    
                    <p class="normal-text">After Capacity Dimensioning is done, the following step is
                    mapping these requirements to VNFs. There are three steps for VNF Dimensioning.
                    First, the minimum VNF requirements according to each type of VNF need to be
                    defined. Second, the selection of the VNF Mapping option (if possible)
                    according to vendors offering and NaaS Operator requirements. Third, the VNF/NE
                    mapping where it is defined the number of VNFs or NEs.</p>
                    
                    <h3><a></a>3.3.1
                    VNF Requirements definition</h3>
                    
                    <p class="normal-text">The EPC elements
                    are needed to be mapped to VNFs, but the type of VNFs (CP, UP or Database) is
                    assigned according to the type of NE is serving. For example, UP VNFs can be
                    mapped to logical entities such as SGW or PGW. The VNFs for the EPC are divided
                    into the following categories:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>User Plane VNFs: Cover all
                        NE related to packet handling in an end-to-end communication between edge
                        applications. These tasks are expected to be very intensive in I/O operations
                        and memory R/W operations. For example: S/PGW-U. The
                        specific features needed are:</li>
                    
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li style="font-size:15px">Hyperthreading support</li>
                        </ul>
                    
                        <li>
                        Control plane VNFs: Cover
                        any other Network Functionality that is not directly related<br>
                        to the end-to-end data communication between edge applications and involve
                        signaling processing. These are expected to be very intensive in CPU processing
                        and memory R/W operations. For example: MME/SGSN, S/PGW-C, PCRF. The specific features needed are:</li>
                    
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li style="font-size:15px">Hyperthreading support</li>
                            <li style="font-size:15px">SR-IOV / DPDK usage</li>
                        </ul>
                    
                        <li>
                        Database VNFs: Cover
                        all NE related to repositories, they involve disk storage and are very I/O
                        storage intensive. For example: HSS. The specific features needed are:</li>
                    
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li style="font-size:15px">High IOPS</li>
                        </ul>
                    </ul>
                    
                    <p class="normal-text">Where:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Hyperthreading support: This
                        refers to enabling a second execution thread to a processor core, to increase
                        efficiency.</li>
                        
                        <li>
                        SR-IOV / DPDK usage: Use of
                        acceleration technologies to reduce the delay imposed by the virtualization
                        layer.</li>
                    
                        <li>
                        High IOPS: It means that the
                        application will need to support a high number of read and write operations.</li>
                    </ul>
                    
                    <h3><a></a>3.3.2
                    VNF Mapping</h3>
                    
                    <p class="normal-text">Once the traffic estimation for all planes
                    in the logical equipment is done, the mapping into Virtual Network Functions
                    (VNF) can be performed. There are several approaches when doing it:</p>
                    
                    <div align=center>
                    
                    <table class=af7 border=1 cellspacing=0 cellpadding=0 width=586
                     style='border-collapse:collapse;border:none'>
                     <tr>
                      <td width=75 style='width:56.45pt;border:solid black 1.0pt;background:#1F4E79;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Mapping
                      Type [VNF:NE]</p>
                      </td>
                      <td width=180 style='width:134.7pt;border:solid black 1.0pt;border-left:none;
                      background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Description</p>
                      </td>
                      <td width=170 style='width:127.55pt;border:solid black 1.0pt;border-left:
                      none;background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Advantages</p>
                      </td>
                      <td width=161 style='width:120.5pt;border:solid black 1.0pt;border-left:none;
                      background:#1F4E79;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p align=center style='color:#fff;'>Disadvantages</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=75 style='width:56.45pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1:1</p>
                      </td>
                      <td width=180 style='width:134.7pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Each VNF will contain 1 NE.</p>
                      </td>
                      <td width=170 style='width:127.55pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Easy Capacity match</p>
                      <p class="normal-text">Mid level of
                      reliability</p>
                      </td>
                      <td width=161 style='width:120.5pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Less Flexible</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=75 style='width:56.45pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1:N</p>
                      </td>
                      <td width=180 style='width:134.7pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1 VNF will handle several NE. The capacity of the
                      VNF must meet all the NE requirements.</p>
                      </td>
                      <td width=170 style='width:127.55pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Less Number of VNFs</p>
                      </td>
                      <td width=161 style='width:120.5pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Reduced Flexibility
                      &amp; Adaptiveness</p>
                      <p class="normal-text">Limited Scaling
                      capacity</p>
                      <p class="normal-text">Low level of
                      reliability due to single point of failure</p>
                      </td>
                     </tr>
                     <tr>
                      <td width=75 style='width:56.45pt;border:solid black 1.0pt;border-top:none;
                      padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">N:1</p>
                      </td>
                      <td width=180 style='width:134.7pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">1 NE will be divided into N VNF. The division can be
                      in terms of networking, processing or data forwarding capacities.</p>
                      </td>
                      <td width=170 style='width:127.55pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Improved Flexibility
                      &amp; Performance</p>
                      <p class="normal-text">Resource Efficient</p>
                      <p class="normal-text">VNF per service
                      Granularity</p>
                      <p class="normal-text">High level of
                      reliability</p>
                      </td>
                      <td width=161 style='width:120.5pt;border-top:none;border-left:none;
                      border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.75pt 0cm 5.75pt'>
                      <p class="normal-text">Greater number of
                      VNFs to handle</p>
                      </td>
                     </tr>
                    </table>
                    
                    </div>
                    
                    <p align=center><i>Table 6. VNF
                    to NE Mapping Available Options</i></p>
                    
                    <p class="normal-text">Most of the time, this mapping is not offered by the vendors as a
                    selection since they may have already defined one beforehand. For the options
                    which the NaaS Operator can select a type of mapping, it is recommended to
                    choose one in the following order: N:1, 1:1 and 1:N. </p>
                    
                    <h3><a></a>3.3.3
                    VNF/Network Element Dimensioning</h3>
                    
                    <p class="normal-text">After the calculation of the user traffic amount and signaling,
                    it is mandatory to map the corresponding metrics into logical entities such as
                    MME, HSS, SGW, PGW (or VNFs representing them). If the solution is a
                    core-in-a-box type, the calculation must be based on the metrics the solution
                    provides, but the logic is the same for quantity calculation.</p>
                    
                    <p class="normal-text">For logical entity quantification, it is necessary to know
                    the specification from vendors of the maximum load that an entity can bear in
                    terms of simultaneous attached users (<i><img width=31 height=19
                    src="images/mobile_core_hld/image043.gif"></i>) and signaling handling load (<i><img width=35 height=19
                    src="images/mobile_core_hld/image062.gif"></i>). Below, formulas used to estimate the amount of logical entities are presented.</p>
                    
                    <p class="normal-text">The signaling procedures that the logical entities must
                    cope with are given by the following relationships:</p>
                    
                    <p class="normal-text">For HSS <i><img width=35 height=19
                    src="images/mobile_core_hld/image062.gif"></i>, it must be considered:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Attach</li>
                        <li>Detach</li>
                        <li>TAU</li>
                    </ul>
                    
                    <p class="normal-text">For MME <i><img width=35 height=19
                    src="images/mobile_core_hld/image062.gif"></i>, it must be considered:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Attach</li>
                        
                        <li>
                        Detach</li>
                        
                        <li>
                        Bearer Establishment</li>
                        
                        <li>
                        Bearer Modification</li>
                        
                        <li>
                        Idle to active state change</li>
                        
                        <li>
                        TAU</li>
                        
                        <li>
                        Handover</li>
                    </ul>
                    
                    <p class="normal-text">For SPGW <i><img width=35 height=19
                    src="images/mobile_core_hld/image062.gif"></i>, it must be considered:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Bearer Establishment</li>
                        <li>Bearer Modification</li>
                        <li>Idle to active state change</li>
                    </ul>
                    
                    <p class="normal-text">HSS dimensioning:</p>

                    <i><img width=381 height=55 src="images/mobile_core_hld/eq_32.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 20) </p>
                    <br><br>
                    
                    
                    
                    <p class="normal-text"><a></a>Where: <i><img width=51 height=20
                    src="images/mobile_core_hld/image080.gif"></i> is the Subscriber Capacity of the HSS
                    [users/HSS] and <i><img width=91 height=22
                    src="images/mobile_core_hld/image081.gif"></i> is the maximum capacity for signaling handling
                    of the HSS [trans/sec/HSS].</p>
                    
                    <p class="normal-text">MME Dimensioning:</p>

                    <i><img width=400 height=55 src="images/mobile_core_hld/eq_33.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 21) </p>
                    <br><br>
                    
                    
                    <p class="normal-text"><a></a>Where: <i><img width=47 height=20
                    src="images/mobile_core_hld/image083.gif"></i> is the Simultaneous Attached Users Capacity of
                    the MME [users/MME] and <i><img width=99 height=22
                    src="images/mobile_core_hld/image084.gif"></i> is the maximum capacity for signaling handling
                    of the MME [trans/sec/MME].</p>
                    
                    <p class="normal-text">SGW/PGW Dimensioning:</p>

                    <i><img width=620 height=65 src="images/mobile_core_hld/eq_34.png" style="margin-right:15px;"></i>
                    <p class="normal-text" style="float: right;">(Eq. 22) </p>
                    <br><br>
                    
                                            
                    <p class="normal-text">Where: <i><img width=65 height=20
                    src="images/mobile_core_hld/image086.gif"></i> is the Maximum Bearer handling capacity of the
                    S/PGW [bearer/SGW or PGW] and <i><img width=99 height=22
                    src="images/mobile_core_hld/image084.gif"></i> is the maximum capacity for signaling handling
                    of the S/PGW [trans/sec/ SGW or PGW].</p>
            </div>

            <a class='link-next' href="#" onclick="switchContent('#hld')"> &#8656; Previous</a>
                <a href="url" align="center"></a>
                <div class="right">
                    <a ></a>
                    <a class="link-next" href="#" onclick="switchContent('#e2e')">Next &#8658;</a>
                </div>
                <br>
            </div>

            <nav id="navbar-example3" class="navbar navbar-light bg-light position-fixed">
                <nav class="nav nav-pills flex-column">
                <a id="fm_link-1" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item3"><strong>3. FUNCTIONS & METHODOLOGIES</strong></a>
                <a id="fm_link-2" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item3-1"><em>3.1	Interconnection Requirements Definition</em></a>
                <a id="fm_link-3" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item3-2"><em>3.2	Capacity Forecast Analysis</em></a>
                <a id="fm_link-3" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item3-3"><em>3.3	VNF Dimensioning</em></a>
                </nav>
            </nav>
       </section>

       <section id="e2e" hidden>
        <div id="content">

            <div  data-spy="scroll" data-target="#navbar-example3" data-offset="0">
                <h1><a class="titulo-h1 anchor-bum" name="item4">4
                    E2E Process Flow</a></h1>
                    
                    <p class="normal-text">This section
                    presents an end-to-end process to perform a High-Level Design for the Mobile
                    Core Network. This process is generic and it will suit most of the requirements
                    of the NaaS Operator, further customization can be added to deliver a better
                    design to each NaaS Operator scenario. The steps of the E2E flow will be
                    discussed in the upcoming sections. </p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item4-1">4.1
                    End-to-end Process Overview</a></h2>
                    
                    <p class="normal-text">As presented in
                    Figure 15, the end-to-end process consists of four main steps.</p>
                    
                    <p class="normal-text"><img
                    width=604 height=143 id=image29.png
                    src="images/mobile_core_hld/image015.png"></p>
                    
                    <p align=center><i>Figure 15 Module Functional View</i></p><br>
                    
                    <p class="normal-text">The first step
                    is the Interconnection Assessment, in which the NaaS Operator selects the best
                    networking protocols and entities when connecting to external networks. As this
                    step defines the general network description and function, it is the strongest
                    input-dependent and its output provides significant insights to the next
                    processes.</p>
                    
                    <p class="normal-text">Capacity
                    Planning consists of the calculation of the forecasted traffic on the
                    interfaces and logical elements of the mobile core network based on the RAN HLD
                    forecasted users and traffic information combined with the mobile core
                    architecture input.</p>
                    
                    <p class="normal-text">VNF High Level
                    Design comprises the estimation of the VNF dimensioning and the Bill of
                    Quantities (BoQ) corresponding to the mapping into logical entities.</p>
                    
                    <p class="normal-text">Finally, the
                    redundancy assessment primarily involves the evaluation and guide to select the
                    redundancy and availability mechanisms.</p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item4-2">4.2
                    Step-by-step Analysis</a></h2>
                    
                    <p class="normal-text">In this section,
                    each of the steps in the E2E process are examined to provide practical guidance
                    for NaaS Operators, describing the range of implementation options. The steps
                    can be further customized according to the NaaS Operator requirements and
                    constraints.</p>
                    
                    <p class="normal-text">In order to
                    facilitate understanding of the process design flow, a Design Example is
                    followed along each of the process steps. Before getting into the details of
                    the process, an overview of the design example scenario is presented.</p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Design Example: Scenario Definition</b></p>
                    
                    <p class="normal-text">In this example, the process to generate the HLD
                    Design for a NaaS Operator which will initially own 500k subscribers and will
                    provide service to one MNO through a home-routed roaming scheme. EPC
                    architecture is shown in Figure 16.</p>
                    
                    <p class="normal-text"><a></a><img
                    width=561 height=220
                    src="images/mobile_core_hld/image016.png"></p>
                    
                    <p class="normal-text"><a></a>Figure 16. <i>Design Example Scenario.</i></p>
                    
                    <p class="normal-text">Inputs for this scenario are detailed below:</p>
                    
                    <p class="normal-text"><b>-Elements to be deployed</b>: MME, SGW, PCRF, PGW, HSS and DRA (yellow equipment).</p>
                    
                    <p class="normal-text"><b>-Home-routed Roaming scenario</b></p>
                    
                    <p class="normal-text"><b>-Voice service</b>:
                    VoIP-only.</p>
                    
                    <p class="normal-text"><b>-Subscriber Forecast (NaaS) (</b><i><img width=18 height=19
                    src="images/mobile_core_hld/image019.gif"></i><b>)</b>: 500,000 users + 100,000 forecasted
                    over the next two years.</p>
                    
                    <p class="normal-text"><b>-Subscriber Forecast (MNO #1) (</b><i><img width=18 height=19
                    src="images/mobile_core_hld/image019.gif"></i><b> for roaming)</b>: 50,000 users.</p>
                    
                    <p class="normal-text"><b>-Percentage of Simultaneous Attached Users (</b><i><img width=29 height=19
                    src="images/mobile_core_hld/image022.gif"></i><b>)</b>: 50 %.</p>
                    
                    <p class="normal-text">Service Details:</p>
                    
                    <p class="normal-text"><b>-Data Service Penetration (</b><i><img width=22 height=19
                    src="images/mobile_core_hld/image020.gif"></i><b> for Data)</b>: 100 % of the users</p>
                    
                    <p class="normal-text"><b>-Voice Service Penetration (</b><i><img width=22 height=19
                    src="images/mobile_core_hld/image020.gif"></i><b> for Voice)</b>: 100 % of the users</p>
                    
                    <p class="normal-text">-<b>User behavior (</b><i><img width=22 height=19
                    src="images/mobile_core_hld/image021.gif"></i><b>)</b>: </p>
                    
                    <p class="normal-text"> 50% Data Usage at peak hours.</p>
                    
                    <p class="normal-text"> 20% Voice Usage at peak hours</p>
                    
                    <p class="normal-text">Based on other networks traffic models, the following traffic model is
                    assumed for <b>Voice</b> and <b>Data Services</b>:</p>
                    
                    <p class="normal-text"><img width=405 height=141
                    src="images/mobile_core_hld/image017.png"></p>
                    
                    <p class="normal-text">After a quick survey from vendors:</p>
                    
                    <p class="normal-text">- <b>NE Capacity Characteristics:</b></p>
                    
                    <p class="normal-text"><img width=521 height=212
                    src="images/mobile_core_hld/image018.png"></p>
                    
                    </div>
                    
                    <h3><a></a>4.2.1
                    Interconnection Assessment</h3>
                    
                    <p class="normal-text">The steps will
                    help to select the best networking protocols and entities when connecting to
                    external networks towards a successful interconnection.</p>
                    
                    <p class="normal-text"><b><u>Step 1.</u></b> Select the most appropriate Networking protocols.</p>
                    
                    <p class="normal-text">For L2, the most
                    commonly used protocol is Ethernet.</p>
                    
                    <p class="normal-text">For L3, we have
                    a variety of internal routing protocols such as IS-IS, OSPF. The operator
                    should select one from section 2.4.2 according to the needs and the
                    capabilities of the NaaS Operator. In the case of exterior routing protocols,
                    we only have BGP which will be used when connecting to external networks such
                    as the Internet.</p>
                    
                    <p class="normal-text">For L4, the
                    selection between TCP, UDP and SCTP is simple since most of the standardized
                    interfaces already define the L4 protocol to be used, see section 3.1.3.</p>
                    
                    <p class="normal-text"><b><u>Step 2.</u></b> Selection of Upper Layer protocols for interconnection.</p>
                    
                    <p class="normal-text">As stated in
                    section 3.1, there are two groups of interfaces depending on the protocol they
                    use: GTP and Diameter. When connecting to external networks only diameter has
                    an impact on the design.</p>
                    
                    <p class="normal-text">For
                    Diameter-based external interconnections the use of DRA is always recommended
                    and must be implemented. For internal diameter connections, the use of DRA is
                    optional.</p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Design Example</b></p>
                    
                    <p class="normal-text"><b>Step 1. </b>Since
                    there is no special requirement from the Mobile Core Architecture to support
                    legacy protocols nor limitations on routing and switching, the selection of
                    networking protocols is:</p>
                    
                    <p class="normal-text">L2 Protocols: Ethernet</p>
                    
                    <p class="normal-text">L3 Protocols: IP (OSPF + BGP)</p>
                    
                    <p class="normal-text">L4 Protocols: Given by interface specification.</p>
                    
                    <p class="normal-text">SCTP: S1-MME &amp; S6a.</p>
                    
                    <p class="normal-text">TCP/UDP: S1-U &amp; S8.</p>
                    
                    <p class="normal-text"><b>Step 2.</b> From the
                    topology, it can be seen that it will need a S8 interface between the home SGW
                    to Visitor PGW. Additionally, a diameter-based S6a from the home MME to the
                    Visitor HSS. </p>
                    
                    <p class="normal-text"><u>For GTP</u>:</p>
                    
                    <p class="normal-text">S8 interface is GTP and it does not need any
                    special requirement</p>
                    
                    <p class="normal-text"><img width=620 height=250
                    id=image24.png src="images/mobile_core_hld/image019.png"></p>
                    
                    <p class="normal-text"><img width=280 height=250
                    id=image15.png
                    src="images/mobile_core_hld/image020.png"></p>
                    
                    <p class="normal-text"><u>For Diameter</u>:</p>
                    
                    <p class="normal-text">Implementation of DRA for S6a signaling messages
                    between MME and two HSS (local and visitor).</p>
                    
                    <p class="normal-text"><img width=460 height=225
                    id=image8.png
                    src="images/mobile_core_hld/image021.png"></p>
                    
                    <p class="normal-text"><u>Finally, SGi</u>:</p>
                    
                    <p class="normal-text">Since the L3 protocol is already selected, no need to further
                    selection on the SGi interface.</p>
                    
                    <p class="normal-text"><img width=270 height=184
                    id=image1.png
                    src="images/mobile_core_hld/image022.png"></p>
                    
                    <p class="normal-text"></p>
                    
                    </div>
                    
                    <h3><a></a>4.2.2
                    Capacity Planning</h3>
                    
                    <p class="normal-text">The objective of
                    this step is to perform the capacity calculation for each element and interface
                    based on the user traffic model.</p>
                    
                    <p class="normal-text"><a></a><b><u>Step 1.</u></b> Traffic Dimensioning</p>
                    
                    <p class="normal-text">Traffic
                    Dimensioning estimates the total traffic generated by the total expected users.
                    It will be used for interface and logical entities dimensioning. Through these
                    steps, the following metrics are calculated following the methodology in
                    section 3.2.1:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Total number of users and per service</li>
                    
                        <li>Total user traffic load</li>
                    
                        <li>Total signaling traffic load</li>
                    </ul>
                    
                    <p class="normal-text"><b><u>Step 2.</u></b> Signaling Dimensioning</p>
                    
                    <p class="normal-text">The Signaling dimensioning estimates the total amount of
                    signaling load the users are generating due to registration, mobility, security
                    and session establishment procedures. Based on the methodology presented in
                    section 3.2.2, the following metrics are the output for this step: </p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Calculation of total
                        signaling procedures</li>
                        
                        <li>Calculation of signaling
                        procedures per interface</li>
                    </ul>
                    
                    <p class="normal-text"><b><u>Step 3.</u></b> Interface Dimensioning</p>
                    
                    <p class="normal-text">Interface
                    Dimensioning calculates the total amount of traffic of each EPC logical interface
                    according to the corresponding signaling procedures and data forwarding
                    (CP+UP). It will be used for interface and logical entities dimensioning. The following metrics are the output for this step, which
                    are calculated as described in section 3.2.3: </p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li>Calculation of every traffic
                    load for external interfaces (Control Plane + User Plane) (e.g. S8, S6a,
                    S1-MME, S1-U, S9, SGi)</li></ul>
                    
                    <p class="normal-text">A useful widget for all the calculations related to
                    Capacity Planning can be found on the <a class='a_link' href="core_hld_widget_1.html">Mobile Core Capacity Forecast Widget</a>.</p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Design Example</b></p>
                    
                    <p class="normal-text"><b><u>Step 1. </u></b>Traffic
                    Dimensioning</p>
                    
                    <p class="normal-text">The first step is to calculate the total number
                    of users. The following formula considers the expected users, the forecasted
                    users and the roaming expected users as well.</p>
                    
                    </div>
                    

                    <div align=center>
                        <p class="normal-text"><img
                        width=265 height=30
                        src="images/mobile_core_hld/eq_35.png"></p>
                    </div>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">The next step is to calculate the number of users
                    per service. The total users for <b>Data Services</b>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                        width=265 height=30
                    src="images/mobile_core_hld/eq_36.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">The total users for <b>Voice Services</b>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                        width=265 height=30
                    src="images/mobile_core_hld/eq_37.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">Number of active users at peak hours for data and
                    voice, respectively:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                        width=330 height=70
                    src="images/mobile_core_hld/eq_38.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><a></a>For <b>Voice</b> and <b>Data
                    Services</b>, the following traffic model is used. It is based on the average
                    user behavior on other live networks.</p>
                    
                    <p class="normal-text"><img width=437 height=153
                    id=image6.png
                    src="images/mobile_core_hld/image023.png"></p>
                    
                    <p class="normal-text">The traffic types of Web Browsing, Streaming, Email and Gaming
                    correspond to Data services while Voice Calls corresponds to Voice services. So
                    the bandwidths are:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=306 height=80
                    src="images/mobile_core_hld/eq_39.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Total bandwidth</b>
                    usage for the internet connection:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=600 height=65
                    src="images/mobile_core_hld/eq_400.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b><u>Step 2. </u></b>Signaling
                    Dimensioning</p>
                    
                    <p class="normal-text">The first step is calculating the Simultaneous Attached Users for
                    calculating the number of signaling procedures. To calculate the <b>Simultaneous
                    Attached Users</b>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=315 height=35
                    src="images/mobile_core_hld/eq_41.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">From table 1 we can get the average number of
                    occurrences for each connected subscriber. The calculation is it done to the
                    following signaling procedures and then calculated on transactions per second:</p>
                    
                    </div>

                    <p class="normal-text"><img
                        width=450 height=320
                        src="images/mobile_core_hld/eq_42.png"></p>
                    
                   
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"></p>
                    
                    <p class="normal-text"><b><u>Step 3. </u></b>Interface
                    Dimensioning</p>
                    
                    <p class="normal-text">For <u>Control Plane</u> interfaces (S1-MME and S5/S8) since we
                    already calculated the operations per second in step 3:</p>
                    
                    <p class="normal-text"><u>For S1-MME</u>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=550 height=100
                    src="images/mobile_core_hld/eq_43.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u>For S5/S8</u>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=589 height=70
                    src="images/mobile_core_hld/eq_44.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">For <u>User Plane</u> interfaces (S1-U, S5/S8 and SGi):</p>
                    
                    <p class="normal-text"><u>For S1-U</u>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=230 height=40
                    src="images/mobile_core_hld/eq_45.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">Since it is a Home Routed scheme for roaming:</p>
                    
                    <p class="normal-text"><u>For S8</u>:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=376 height=65
                    src="images/mobile_core_hld/eq_46.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">So the total traffic for the S8 user plane is:</p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=456 height=65
                    src="images/mobile_core_hld/eq_470.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u>For S5 &amp; SGi</u> (Since it is home
                    routed roaming scenario)<u>:</u></p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=477 height=33
                    src="images/mobile_core_hld/eq_48.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Summary:</b></p>
                    
                    <p class="normal-text">Finally, for interfaces which have a UP and CP, the total loads must
                    be summed up:</p>
                    
                    <p class="normal-text"><u>For S5:</u></p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=435 height=35
                    src="images/mobile_core_hld/eq_49.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u>For S8:</u></p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=413 height=35
                    src="images/mobile_core_hld/eq_50.png"></p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 1.0pt 1.0pt 1.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u></u></p>
                    
                    <p class="normal-text">The following table summarizes for all the external interfaces and
                    expresses the capacities in Mbps:</p>
                    
                    <p class="normal-text"><img width=223 height=157
                    id=image4.png
                    src="images/mobile_core_hld/image024.png"></p>
                    
                    <p class="normal-text"></p>
                    
                    </div>
                    
                    <h3><a></a>4.2.3
                    VNF High Level Design</h3>
                    
                    <p class="normal-text">For the VNF High Level Design, three aspects must be
                    defined: VNF Requirements, Type of VNF Mapping and VNF/NE Dimensioning.</p>
                    
                    <p class="normal-text"><b>VNF Requirements</b>: From section 3.3.1, the mandatory
                    specifications for each VNF is contained. These mandatory characteristics
                    should be matched when it is possible to select from the vendors options. In
                    the case that core-in-a-box option or 1:1 Mapping option is going to be
                    implemented, the collective mandatory requirements should be matched by the
                    solution.</p>
                    
                    <p class="normal-text"><b>Type of VNF Mapping</b>: As seen in section 3.3.2, the advantages and
                    disadvantages should drive the decision. For the
                    options which the NaaS Operator can select a type of mapping, it is recommended
                    to choose one in the following order: N:1, 1:1 and 1:N.</p>
                    
                    <p class="normal-text">If several options are available for one mapping selection,
                    a VNF/NE dimension can be performed before this decision is made.</p>
                    
                    <p class="normal-text"><b>VNF/NE Dimensioning:</b> The section 3.3.3 indicated how is the process to follow
                    to calculate the number of VNF or NE (depending on the mapping option). If the
                    mapping option is not already
                    chosen, a VNF dimensioning can be performed to help deciding.</p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Design Example</b></p>
                    
                    <p class="normal-text"><u>VNF Requirements:</u></p>
                    
                    <p class="normal-text">From section 3.2, it is recommended to match
                    these mandatory requirements to the VNF from available vendors when selecting a
                    virtualized solution.</p>
                    
                    <p class="normal-text">The VNFs for the User Plane must have
                    Hyperthreading support and SR-IOV/DPDK. The VNFs that include the User Plane
                    type are the SGW and PGW VNFs.</p>
                    
                    <p class="normal-text">The VNFs for the Control Plane must have
                    Hyperthreading support. The VNFs that include the Control Plane type are the
                    MME and PCRF VNFs.</p>
                    
                    <p class="normal-text">Finally, the VNFs for Database must have High
                    IOPS features. The VNFs that include the Database type are the HSS VNFs.</p>
                    
                    <p class="normal-text"><u>VNF Mapping:</u></p>
                    
                    <p class="normal-text">As the vendor in this example does not allow to
                    select the VNF Mapping and states in 1:1, this mapping option is selected.</p>
                    
                    <p class="normal-text"><u>VNF/NE Dimensioning:</u> Logical Entities or VNFs Quantity Calculation. In this example, the
                    only option is 1:1 so VNF and NE Quantity are the same.</p>
                    
                    <p class="normal-text">For the logical entities modeling, the vendor
                    provides the following metrics:</p>
                    
                    <p class="normal-text"><img width=507 height=206
                    id=image7.png
                    src="images/mobile_core_hld/image025.png"></p>
                    
                    <p class="normal-text">From section 3.3.3, the quantity calculation is
                    based on the metric capacity at 80% (Operating Capacity) considering the total
                    amount of user traffic and signaling loads:</p>
                    
                    <p class="normal-text"><u>For the HSS:</u></p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=700 height=180
                    src="images/mobile_core_hld/eq_51.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u>For the MME:</u></p>
                    
                    </div>
                    
                    <p class="normal-text"><img
                    width=700 height=300
                    src="images/mobile_core_hld/eq_52.png"></p>

                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><u>For the SGW &amp; PGW:</u></p>
                    
                    </div>

                    <p class="normal-text"><img
                        width=700 height=250
                        src="images/mobile_core_hld/eq_53.png"></p>
                    
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text">In the end, the numbers of required elements are:</p>
                    
                    <p class="normal-text"><img width=173 height=119
                    id=image2.png
                    src="images/mobile_core_hld/image026.png"></p>
                    
                    <p class="normal-text"></p>
                    
                    </div>
                    
                    <h3><a></a>4.2.4
                    Redundancy Assessment</h3>
                    
                    <p class="normal-text">Redundancy on
                    Mobile Core can be implemented on different levels and they can all be employed
                    at the same time. Although this requirement comes from the Mobile Architecture
                    Module, it can vary in the implementation approach. For all the available
                    mechanisms, the major categories are:</p>
                    
                    <ol style='margin-top:0in' start=1 type=1>
                        <li class="normal-text">Hardware Level Resilience</li>
                        <li class="normal-text">Application Level
                         Resilience</li>
                    </ol>
                    
                    <p class="normal-text"></p>
                    
                    <p class="normal-text"><b><u>Step 1.</u></b> Selection of Hardware Level Resilience.</p>
                    
                    <p class="normal-text">For the Mobile
                    Core HLD, the only option that can be selected related to redundancy mechanisms
                    is the networking characteristics. The reason is that at this point, no
                    hardware has been selected and consequently, no storage scheme is defined.</p>
                    
                    <p class="normal-text">For Network high
                    availability: bonding mechanisms and physical redundancy schemes can be
                    implemented (2N, N+M and N+1).</p>
                    
                    <p class="normal-text">It is strongly
                    recommended to implement a N+1 as a minimum for any non-crucial (S6a, Gx)
                    interfaces and 2N scheme for the most important ones (e.g. S1-MME, S1-U, S5/S8,
                    SGi). </p>
                    
                    <p class="normal-text">Bonding
                    mechanism is desired to act a group of physical interfaces as one.</p>
                    
                    <p class="normal-text"><b><u>Step 2.</u></b> Selection of Application Level
                    Resilience.</p>
                    
                    <p class="normal-text">At the
                    application layer, 2N, N+1 and N+M Redundancy are the options for VNF/NE
                    redundancy and it can be applied in active/active and active/standby. For a
                    small operator it might look excessive to deploy 2N or M+N models and prefer to
                    develop a N+1. For further details, please refer to the Mobile Core
                    Architecture Module.</p>
                    
                    <p class="normal-text">It is
                    recommended for the most important VNF to have 2N redundancy scheme (MME, SGW,
                    PGW), whereas less crucial VNF can have N+1 application level redundancy.</p>
                    
                    <div style='border:solid black 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
                    background:#F2F2F2'>
                    
                    <p class="normal-text"><b>Design Example</b></p>
                    
                    <p class="normal-text"><img width=561 height=220
                    id=image12.png
                    src="images/mobile_core_hld/image027.png"></p>
                    
                    <p class="normal-text"><b><u>Step 1.</u></b>
                    Selection of Hardware Level Resilience.</p>
                    
                    <p class="normal-text"><u>For Network</u>:</p>
                    
                    <p class="normal-text">For each red interface (S1-MME, S1-U, S5, S8 and
                    SGi), there will be a 2N redundancy since those are considered the most critical
                    interfaces whereas the black ones (S11, S6a) can be implemented through N+1.</p>
                    
                    <p class="normal-text">Based on 10 Gbps physical interfaces, it becomes
                    clear that for S1-U (8,470 Mbps), S5 (7,862 Mbps) and SGi (7,819 Mpbs), a
                    bonding mechanism is needed to make at least two physical interfaces to work in
                    load sharing mode.</p>
                    
                    <p class="normal-text">As a summary:</p>
                    
                    <p class="normal-text"><img width=422 height=162
                    id=image14.png
                    src="images/mobile_core_hld/image028.png"></p>
                    
                    <p class="normal-text"><b><u>Step 2.</u></b>
                    Selection of Application Level Resilience</p>
                    
                    <p class="normal-text">The MME, SGW and PGW will have 2N redundancy
                    mechanisms. The HSS and DRA will have N+1 redundancy mechanism.</p>
                    
                    <p class="normal-text">In summary:</p>
                    
                    <p class="normal-text"><img width=316 height=140
                    id=image32.png
                    src="images/mobile_core_hld/image029.png"></p>
                    
                    <p class="normal-text"></p>
                    
                    </div>
                    
                    
                    
                    <p class="normal-text"><a></a></p>
                    
                    <h1><a class="titulo-h1 anchor-bum" name="item5">5
                    HLD Recommendation</a></h1>
                    
                    <p class="normal-text">This section
                    presents a methodology to consolidate and generate a final HLD recommendation.</p>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item5-1">5.1
                    HLD Recommendation Format &amp; Structure</a></h2>
                    
                    <p class="normal-text">The main
                    deliverable of this module is the HLD recommendation which contains the overall
                    technical solution, basic design rules, technologies and concepts required to
                    describe Mobile Core Network. The HLD recommendation shall contain the
                    following aspects:</p>
                    
                    <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                        <li><i>Overview</i>: High-level description that summarizes the Mobile Core
                        design.</li>
                        <li><i>Fundamentals</i>: A brief description of fundamental concepts to be
                        references on recommendation.</li>
                        <li><i>EPC HLD Requirements:</i></li>
                    
                        <ul class="normal-text ul-iconos" style='margin-top:0in' start=1 type=1>
                            <li style="font-size:15px">Series of specifications or metrics related to Interconnection (protocols, number
                            of connections, roaming scenarios).</li>
                    
                            <li style="font-size:15px">Capacity Planning (Number of users, amount of
                            equipment, Matching Strategy).</li>
                    
                            <li style="font-size:15px">VNF High Level Design: VNF Requirements (VNF
                            hardware requirements), VNF Mapping and VNF/NE Dimensioning.</li>
                    
                            <li style="font-size:15px">Redundancy Assessment (Mechanisms and its
                            implementation across the EPC).</li>
                        </ul>
                    
                        <li><i>Mobile Core Equipment
                        Bill of Quantities (BoQ)</i>:
                        primary input for Mobile Core LLD in order to generate equipment Purchase Order
                        generation.</li>
                    </ul>
                    
                    <br><h2><a class="titulo-h2 anchor-bum" name="item5-2">5.2
                    HLD Recommendation Generation</a></h2>
                    
                    <p class="normal-text">The outputs of
                    the end-to-end process will result in the generation HLD Recommendation. The
                    BoQ can be generated according to the quantity outputs of the VNF High Level
                    Design and the Redundancy Assessment processes.</p>
                    
                    <p class="normal-text">The NaaS
                    Operator can use the HLD Report Template as a
                    reference for the format and structure of the final document. Further
                    customization can be applied by the NaaS Operator in order to have a better and
                    more personalized result.</p>
            </div>

            <a href="#" class="link-next" onclick="switchContent('#fm')"> &#8656; Previous</a>
            <br>
            <a href="url" align="center"></a>
            <div class="right">
                <a ></a>
                <a href="#">.</a>
            </div>

        </div>
          
        <nav id="navbar-example3" class="navbar navbar-light bg-light position-fixed">
         <nav class="nav nav-pills flex-column">
         <a id="e2e_link-1" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item4"><strong>4. E2E PROCESS FLOW</strong></a>
         <a id="e2e_link-2" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item4-1"><em>4.1 End-to-end Process Overview</em></a>
         <a id="e2e_link-3" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item4-2"><em>4.2 Step-by-step Analysis	</em></a>
         <a id="e2e_link-8" class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item5"><strong>5. HLD RECOMMENDATION</strong></a>
         <a id="e2e_link-4"class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item5-1"><em>5.1 HLD Recommendation Format & Structure</em></a>
         <a id="e2e_link-4"class="nav-link bullet-2-link" onclick="onClickActive(event)" href="#item5-2"><em>5.2 HLD Recommendation Generation</em></a>
         </nav>
     </nav>
        </section>
    
    </div>

        <!-- jQuery CDN border-left: 2px solid gray;-->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             /*$(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                 });
             });*/

             let tab;
             //$("#hld").show();
             switchContent('#hld')

             function switchContent(selector){
                $("#hld").hide();
                $("#fm").hide();
                $("#e2e").hide();
                $(selector).show();
                tab = selector;
            }

             const onClickActive = (event) => {
                
                 var anchor = event.target;
								 clearActiveLinks();
                 anchor.classList.add('link-active');
             }

             const clearActiveLinks = () =>{
                const activeLink = document.getElementsByClassName('link-active')[0];
								//console.log(activeLink);
								if(activeLink){
									activeLink.classList.remove('link-active');
								}
             }
						//227, 1633, 5616
                        
                        console.log(tab);
						 const updateSection = () =>{
							const scrollTop = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop;
							//console.log(scrollTop);
                            console.log(tab);
							let link;

							clearActiveLinks();

                            if(tab == '#hld'){
                                if(scrollTop >= 0 && scrollTop <= 300){
								    document.getElementById("link-1").classList.add('link-active');
                                }
                                else if(scrollTop >= 301 && scrollTop <= 650){
                                    document.getElementById("link-2").classList.add('link-active');
                                }else if(scrollTop >= 651 && scrollTop <= 2000){
                                    document.getElementById("link-3").classList.add('link-active'); 
                                }else if(scrollTop >= 2001 && scrollTop <= 2100){
                                    document.getElementById("link-4").classList.add('link-active');
                                    
                                }else if(scrollTop >= 2101 && scrollTop <= 3000){
                                    document.getElementById("link-5").classList.add('link-active');

                                }else if(scrollTop >= 3001 && scrollTop <= 8400){
                                    document.getElementById("link-6").classList.add('link-active');
                                    
                                }else if(scrollTop >= 8401 && scrollTop <= 9300){
                                    document.getElementById("link-7").classList.add('link-active');
                                }else if(scrollTop >= 9301 && scrollTop <= 12200){
                                    document.getElementById("link-8").classList.add('link-active');
                                    
                                }else if(scrollTop >= 12201 ){
                                    document.getElementById("link-9").classList.add('link-active');
                                    
                                }
                            } else if(tab == '#fm'){
                                if(scrollTop >= 0 && scrollTop <= 50){
								    document.getElementById("fm_link-1").classList.add('link-active');
                                }else if(scrollTop >= 51 && scrollTop <= 3500){
                                    document.getElementById("fm_link-2").classList.add('link-active');

                                }else if(scrollTop >= 3501 && scrollTop <= 4000){
                                    document.getElementById("fm_link-3").classList.add('link-active');

                                }else if(scrollTop >= 4001 && scrollTop <= 4800){
                                    document.getElementById("fm_link-4").classList.add('link-active');
                                    
                                }else if(scrollTop >= 4801 && scrollTop <= 5800){
                                    document.getElementById("fm_link-5").classList.add('link-active');

                                }else if(scrollTop >= 5801 ){
                                    document.getElementById("fm_link-6").classList.add('link-active');
                                    
                                }

                            } else if(tab == '#e2e'){
                                if(scrollTop >= 0 && scrollTop <= 150){
								    document.getElementById("e2e_link-1").classList.add('link-active');
                                }
                                else if(scrollTop >= 151 && scrollTop <= 1500){
                                    document.getElementById("e2e_link-2").classList.add('link-active');

                                }else if(scrollTop >= 1301 && scrollTop <= 2100){
                                    document.getElementById("e2e_link-3").classList.add('link-active');
                                    
                                }else if(scrollTop >= 2101 && scrollTop <= 3300 ){
                                    document.getElementById("e2e_link-4").classList.add('link-active');
                                    
                                }else if(scrollTop >= 3301 ){
                                    document.getElementById("e2e_link-5").classList.add('link-active');
                                    
                                }

                            }

						 }

         </script>
    </body>
</html>
